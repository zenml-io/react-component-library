import{r,R as P}from"./index-yUhCOHB4.js";import{r as Ve}from"./index-z4ifl892.js";import{u as ke,c as C}from"./index-D4ukzbp3.js";import{u as me}from"./index-CLdCKqIz.js";import{c as Ke}from"./index-C2ukzIhV.js";import{c as $e,P as O,d as He}from"./index-DQXGlRzm.js";import{R as Ue,B as We}from"./index-DLnfOhia.js";import{P as Xe}from"./index-C1ppjEGk.js";import{P as Ye}from"./index-Bt0LB2xV.js";import{a as Y,u as Be}from"./index-Da_IA54p.js";import{V as Te}from"./index-CxJgGtSs.js";import{j as l}from"./jsx-runtime-DBhXMc9n.js";import{c as qe}from"./index-CanQ0flI.js";import{c as F}from"./index-DcuGh8cT.js";var oe="ToastProvider",[re,ze,Qe]=Ke("Toast"),[we,Mt]=$e("Toast",[Qe]),[Ze,B]=we(oe),ve=e=>{const{__scopeToast:t,label:s="Notification",duration:o=5e3,swipeDirection:n="right",swipeThreshold:u=50,children:p}=e,[T,w]=r.useState(null),[a,b]=r.useState(0),x=r.useRef(!1),L=r.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${oe}\`. Expected non-empty \`string\`.`),l.jsx(re.Provider,{scope:t,children:l.jsx(Ze,{scope:t,label:s,duration:o,swipeDirection:n,swipeThreshold:u,toastCount:a,viewport:T,onViewportChange:w,onToastAdd:r.useCallback(()=>b(S=>S+1),[]),onToastRemove:r.useCallback(()=>b(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:x,isClosePausedRef:L,children:p})})};ve.displayName=oe;var Ee="ToastViewport",Ge=["F8"],ee="toast.viewportPause",te="toast.viewportResume",xe=r.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:o=Ge,label:n="Notifications ({hotkey})",...u}=e,p=B(Ee,s),T=ze(s),w=r.useRef(null),a=r.useRef(null),b=r.useRef(null),x=r.useRef(null),L=me(t,x,p.onViewportChange),S=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=p.toastCount>0;r.useEffect(()=>{const c=y=>{var m;o.length!==0&&o.every(v=>y[v]||y.code===v)&&((m=x.current)==null||m.focus())};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[o]),r.useEffect(()=>{const c=w.current,y=x.current;if(N&&c&&y){const f=()=>{if(!p.isClosePausedRef.current){const h=new CustomEvent(ee);y.dispatchEvent(h),p.isClosePausedRef.current=!0}},m=()=>{if(p.isClosePausedRef.current){const h=new CustomEvent(te);y.dispatchEvent(h),p.isClosePausedRef.current=!1}},v=h=>{!c.contains(h.relatedTarget)&&m()},E=()=>{c.contains(document.activeElement)||m()};return c.addEventListener("focusin",f),c.addEventListener("focusout",v),c.addEventListener("pointermove",f),c.addEventListener("pointerleave",E),window.addEventListener("blur",f),window.addEventListener("focus",m),()=>{c.removeEventListener("focusin",f),c.removeEventListener("focusout",v),c.removeEventListener("pointermove",f),c.removeEventListener("pointerleave",E),window.removeEventListener("blur",f),window.removeEventListener("focus",m)}}},[N,p.isClosePausedRef]);const d=r.useCallback(({tabbingDirection:c})=>{const f=T().map(m=>{const v=m.ref.current,E=[v,...dt(v)];return c==="forwards"?E:E.reverse()});return(c==="forwards"?f.reverse():f).flat()},[T]);return r.useEffect(()=>{const c=x.current;if(c){const y=f=>{var E,h,_;const m=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!m){const M=document.activeElement,I=f.shiftKey;if(f.target===c&&I){(E=a.current)==null||E.focus();return}const A=d({tabbingDirection:I?"backwards":"forwards"}),K=A.findIndex(i=>i===M);Z(A.slice(K+1))?f.preventDefault():I?(h=a.current)==null||h.focus():(_=b.current)==null||_.focus()}};return c.addEventListener("keydown",y),()=>c.removeEventListener("keydown",y)}},[T,d]),l.jsxs(We,{ref:w,role:"region","aria-label":n.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:N?void 0:"none"},children:[N&&l.jsx(se,{ref:a,onFocusFromOutsideViewport:()=>{const c=d({tabbingDirection:"forwards"});Z(c)}}),l.jsx(re.Slot,{scope:s,children:l.jsx(O.ol,{tabIndex:-1,...u,ref:L})}),N&&l.jsx(se,{ref:b,onFocusFromOutsideViewport:()=>{const c=d({tabbingDirection:"backwards"});Z(c)}})]})});xe.displayName=Ee;var ye="ToastFocusProxy",se=r.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:o,...n}=e,u=B(ye,s);return l.jsx(Te,{"aria-hidden":!0,tabIndex:0,...n,ref:t,style:{position:"fixed"},onFocus:p=>{var a;const T=p.relatedTarget;!((a=u.viewport)!=null&&a.contains(T))&&o()}})});se.displayName=ye;var q="Toast",Je="toast.swipeStart",et="toast.swipeMove",tt="toast.swipeCancel",st="toast.swipeEnd",he=r.forwardRef((e,t)=>{const{forceMount:s,open:o,defaultOpen:n,onOpenChange:u,...p}=e,[T=!0,w]=ke({prop:o,defaultProp:n,onChange:u});return l.jsx(Ye,{present:s||T,children:l.jsx(nt,{open:T,...p,ref:t,onClose:()=>w(!1),onPause:Y(e.onPause),onResume:Y(e.onResume),onSwipeStart:C(e.onSwipeStart,a=>{a.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:C(e.onSwipeMove,a=>{const{x:b,y:x}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","move"),a.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${b}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${x}px`)}),onSwipeCancel:C(e.onSwipeCancel,a=>{a.currentTarget.setAttribute("data-swipe","cancel"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:C(e.onSwipeEnd,a=>{const{x:b,y:x}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","end"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${b}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${x}px`),w(!1)})})})});he.displayName=q;var[ot,rt]=we(q,{onClose(){}}),nt=r.forwardRef((e,t)=>{const{__scopeToast:s,type:o="foreground",duration:n,open:u,onClose:p,onEscapeKeyDown:T,onPause:w,onResume:a,onSwipeStart:b,onSwipeMove:x,onSwipeCancel:L,onSwipeEnd:S,...N}=e,d=B(q,s),[c,y]=r.useState(null),f=me(t,i=>y(i)),m=r.useRef(null),v=r.useRef(null),E=n||d.duration,h=r.useRef(0),_=r.useRef(E),M=r.useRef(0),{onToastAdd:I,onToastRemove:z}=d,D=Y(()=>{var g;(c==null?void 0:c.contains(document.activeElement))&&((g=d.viewport)==null||g.focus()),p()}),A=r.useCallback(i=>{!i||i===1/0||(window.clearTimeout(M.current),h.current=new Date().getTime(),M.current=window.setTimeout(D,i))},[D]);r.useEffect(()=>{const i=d.viewport;if(i){const g=()=>{A(_.current),a==null||a()},R=()=>{const j=new Date().getTime()-h.current;_.current=_.current-j,window.clearTimeout(M.current),w==null||w()};return i.addEventListener(ee,R),i.addEventListener(te,g),()=>{i.removeEventListener(ee,R),i.removeEventListener(te,g)}}},[d.viewport,E,w,a,A]),r.useEffect(()=>{u&&!d.isClosePausedRef.current&&A(E)},[u,E,d.isClosePausedRef,A]),r.useEffect(()=>(I(),()=>z()),[I,z]);const K=r.useMemo(()=>c?Ne(c):null,[c]);return d.viewport?l.jsxs(l.Fragment,{children:[K&&l.jsx(at,{__scopeToast:s,role:"status","aria-live":o==="foreground"?"assertive":"polite","aria-atomic":!0,children:K}),l.jsx(ot,{scope:s,onClose:D,children:Ve.createPortal(l.jsx(re.ItemSlot,{scope:s,children:l.jsx(Ue,{asChild:!0,onEscapeKeyDown:C(T,()=>{d.isFocusedToastEscapeKeyDownRef.current||D(),d.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(O.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":u?"open":"closed","data-swipe-direction":d.swipeDirection,...N,ref:f,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:C(e.onKeyDown,i=>{i.key==="Escape"&&(T==null||T(i.nativeEvent),i.nativeEvent.defaultPrevented||(d.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:C(e.onPointerDown,i=>{i.button===0&&(m.current={x:i.clientX,y:i.clientY})}),onPointerMove:C(e.onPointerMove,i=>{if(!m.current)return;const g=i.clientX-m.current.x,R=i.clientY-m.current.y,j=!!v.current,V=["left","right"].includes(d.swipeDirection),$=["left","up"].includes(d.swipeDirection)?Math.min:Math.max,Me=V?$(0,g):0,je=V?0:$(0,R),Q=i.pointerType==="touch"?10:2,H={x:Me,y:je},de={originalEvent:i,delta:H};j?(v.current=H,U(et,x,de,{discrete:!1})):pe(H,d.swipeDirection,Q)?(v.current=H,U(Je,b,de,{discrete:!1}),i.target.setPointerCapture(i.pointerId)):(Math.abs(g)>Q||Math.abs(R)>Q)&&(m.current=null)}),onPointerUp:C(e.onPointerUp,i=>{const g=v.current,R=i.target;if(R.hasPointerCapture(i.pointerId)&&R.releasePointerCapture(i.pointerId),v.current=null,m.current=null,g){const j=i.currentTarget,V={originalEvent:i,delta:g};pe(g,d.swipeDirection,d.swipeThreshold)?U(st,S,V,{discrete:!0}):U(tt,L,V,{discrete:!0}),j.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),d.viewport)})]}):null}),at=e=>{const{__scopeToast:t,children:s,...o}=e,n=B(q,t),[u,p]=r.useState(!1),[T,w]=r.useState(!1);return lt(()=>p(!0)),r.useEffect(()=>{const a=window.setTimeout(()=>w(!0),1e3);return()=>window.clearTimeout(a)},[]),T?null:l.jsx(Xe,{asChild:!0,children:l.jsx(Te,{...o,children:u&&l.jsxs(l.Fragment,{children:[n.label," ",s]})})})},it="ToastTitle",ge=r.forwardRef((e,t)=>{const{__scopeToast:s,...o}=e;return l.jsx(O.div,{...o,ref:t})});ge.displayName=it;var ct="ToastDescription",be=r.forwardRef((e,t)=>{const{__scopeToast:s,...o}=e;return l.jsx(O.div,{...o,ref:t})});be.displayName=ct;var Ce="ToastAction",Pe=r.forwardRef((e,t)=>{const{altText:s,...o}=e;return s.trim()?l.jsx(Se,{altText:s,asChild:!0,children:l.jsx(ne,{...o,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Ce}\`. Expected non-empty \`string\`.`),null)});Pe.displayName=Ce;var Re="ToastClose",ne=r.forwardRef((e,t)=>{const{__scopeToast:s,...o}=e,n=rt(Re,s);return l.jsx(Se,{asChild:!0,children:l.jsx(O.button,{type:"button",...o,ref:t,onClick:C(e.onClick,n.onClose)})})});ne.displayName=Re;var Se=r.forwardRef((e,t)=>{const{__scopeToast:s,altText:o,...n}=e;return l.jsx(O.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0,...n,ref:t})});function Ne(e){const t=[];return Array.from(e.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&t.push(o.textContent),ut(o)){const n=o.ariaHidden||o.hidden||o.style.display==="none",u=o.dataset.radixToastAnnounceExclude==="";if(!n)if(u){const p=o.dataset.radixToastAnnounceAlt;p&&t.push(p)}else t.push(...Ne(o))}}),t}function U(e,t,s,{discrete:o}){const n=s.originalEvent.currentTarget,u=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&n.addEventListener(e,t,{once:!0}),o?He(n,u):n.dispatchEvent(u)}var pe=(e,t,s=0)=>{const o=Math.abs(e.x),n=Math.abs(e.y),u=o>n;return t==="left"||t==="right"?u&&o>s:!u&&n>s};function lt(e=()=>{}){const t=Y(e);Be(()=>{let s=0,o=0;return s=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(o)}},[t])}function ut(e){return e.nodeType===e.ELEMENT_NODE}function dt(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const n=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||n?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function Z(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var pt=ve,_e=xe,Ae=he,Ie=ge,De=be,Oe=Pe,Fe=ne;const ft=pt,ae=r.forwardRef(({className:e,...t},s)=>r.createElement(_e,{ref:s,className:F("fixed top-0 z-[9999] flex max-h-screen w-full flex-col-reverse gap-1 p-4 sm:right-0 sm:top-7 sm:flex-col md:max-w-[480px]",e),...t}));ae.displayName=_e.displayName;const mt=qe("group pointer-events-auto pl-4 pr-6 py-3 relative flex w-full items-center justify-between overflow-hidden border transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{rounded:{true:"rounded-md",false:""},status:{default:"",error:"",success:"",warning:""},emphasis:{subtle:"border",bold:""}},compoundVariants:[{emphasis:"bold",status:"default",className:"white-close bg-theme-surface-strong text-theme-text-negative"},{emphasis:"subtle",status:"default",class:"bg-primary-25 border-primary-400 text-theme-text-primary"},{emphasis:"bold",status:"error",className:"white-close bg-error-600 text-theme-text-negative"},{emphasis:"subtle",status:"error",className:"bg-error-50 border-error-300 text-error-900"},{emphasis:"bold",status:"success",className:"white-close bg-success-700 text-theme-text-negative"},{emphasis:"subtle",status:"success",className:"bg-success-50 border-success-300 text-success-900"},{emphasis:"bold",status:"warning",className:"bg-warning-400"},{emphasis:"subtle",status:"warning",className:"bg-warning-50 border-warning-300 text-warning-900"}],defaultVariants:{status:"default"}}),ie=r.forwardRef(({className:e,status:t,rounded:s,emphasis:o,...n},u)=>r.createElement(Ae,{ref:u,className:F(mt({status:t,rounded:s,emphasis:o}),e),...n}));ie.displayName=Ae.displayName;const Le=r.forwardRef(({className:e,...t},s)=>r.createElement(Oe,{ref:s,className:F("text-sm ring-offset-background hover:bg-secondary focus:ring-ring inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Le.displayName=Oe.displayName;const ce=r.forwardRef(({className:e,...t},s)=>r.createElement(Fe,{ref:s,className:F("absolute right-2 top-2 rounded-md p-0.5 group-[.white-close]:text-theme-text-negative",e),"toast-close":"",...t},r.createElement("svg",{className:"h-4 w-4 group-[.white-close]:fill-white",viewBox:"0 0 24 24",fill:"black",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.29289 5.29289C5.68342 4.90237 6.31658 4.90237 6.70711 5.29289L12 10.5858L17.2929 5.29289C17.6834 4.90237 18.3166 4.90237 18.7071 5.29289C19.0976 5.68342 19.0976 6.31658 18.7071 6.70711L13.4142 12L18.7071 17.2929C19.0976 17.6834 19.0976 18.3166 18.7071 18.7071C18.3166 19.0976 17.6834 19.0976 17.2929 18.7071L12 13.4142L6.70711 18.7071C6.31658 19.0976 5.68342 19.0976 5.29289 18.7071C4.90237 18.3166 4.90237 17.6834 5.29289 17.2929L10.5858 12L5.29289 6.70711C4.90237 6.31658 4.90237 5.68342 5.29289 5.29289Z"}))));ce.displayName=Fe.displayName;const le=r.forwardRef(({className:e,...t},s)=>r.createElement(Ie,{ref:s,className:F("text-sm font-semibold",e),...t}));le.displayName=Ie.displayName;const ue=r.forwardRef(({className:e,...t},s)=>r.createElement(De,{ref:s,className:F("text-sm opacity-90",e),...t}));ue.displayName=De.displayName;ie.__docgenInfo={description:"",methods:[]};Le.__docgenInfo={description:"",methods:[]};ce.__docgenInfo={description:"",methods:[]};ue.__docgenInfo={description:"",methods:[]};le.__docgenInfo={description:"",methods:[]};ae.__docgenInfo={description:"",methods:[]};const Tt=2,wt=1e6;let G=0;function vt(){return G=(G+1)%Number.MAX_VALUE,G.toString()}const J=new Map,fe=e=>{if(J.has(e))return;const t=setTimeout(()=>{J.delete(e),k({type:"REMOVE_TOAST",toastId:e})},wt);J.set(e,t)},Et=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Tt)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?fe(s):e.toasts.forEach(o=>{fe(o.id)}),{...e,toasts:e.toasts.map(o=>o.id===s||s===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)}}},W=[];let X={toasts:[]};function k(e){X=Et(X,e),W.forEach(t=>{t(X)})}function xt({...e}){const t=vt(),s=n=>k({type:"UPDATE_TOAST",toast:{...n,id:t}}),o=()=>k({type:"DISMISS_TOAST",toastId:t});return k({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:n=>{n||o()}}}),{id:t,dismiss:o,update:s}}function yt(){const[e,t]=r.useState(X);return r.useEffect(()=>(W.push(t),()=>{const s=W.indexOf(t);s>-1&&W.splice(s,1)}),[e]),{...e,toast:xt,dismiss:s=>k({type:"DISMISS_TOAST",toastId:s})}}function ht(){const{toasts:e}=yt();return P.createElement(ft,null,e.map(function({id:t,title:s,description:o,action:n,icon:u,...p}){return P.createElement(ie,{key:t,...p},P.createElement("div",{className:"flex flex-col gap-3"},P.createElement("div",{className:"flex gap-2"},u&&u,s&&P.createElement(le,null,s),o&&P.createElement(ue,null,o)),n&&P.createElement("div",{className:"ml-auto"},n)),P.createElement(ce,null))}),P.createElement(ae,null))}ht.__docgenInfo={description:"",methods:[],displayName:"Toaster"};export{ie as T,ht as a,xt as t};
