import{r as a,R as k}from"./index-OjgoNOWw.js";import{c as fe,u as qe,a as C,P as Ge}from"./index-ZlCGkFa9.js";import{P as A,b as T,u as Y,a as ie,d as Ke,c as Ze}from"./index-bH8-NN_I.js";import{u as Je,a as Qe,o as et,s as tt,f as rt,b as nt,c as ot,h as at,l as st}from"./floating-ui.react-dom-Wgxx3Fnh.js";import{j as h}from"./jsx-runtime-DtaoT6pD.js";import{u as it}from"./index-Xs1kKkzD.js";import{c as ct}from"./index-LfZfiPec.js";import"./index-mQqIOHEI.js";var dt="Arrow",ve=a.forwardRef((e,t)=>{const{children:n,width:o=10,height:r=5,...s}=e;return h.jsx(A.svg,{...s,ref:t,width:o,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});ve.displayName=dt;var lt=ve,X="Popper",[he,me]=fe(X),[ut,ge]=he(X),Ce=e=>{const{__scopePopper:t,children:n}=e,[o,r]=a.useState(null);return h.jsx(ut,{scope:t,anchor:o,onAnchorChange:r,children:n})};Ce.displayName=X;var ye="PopperAnchor",Pe=a.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:o,...r}=e,s=ge(ye,n),d=a.useRef(null),u=T(t,d);return a.useEffect(()=>{s.onAnchorChange((o==null?void 0:o.current)||d.current)}),o?null:h.jsx(A.div,{...r,ref:u})});Pe.displayName=ye;var V="PopperContent",[pt,ft]=he(V),we=a.forwardRef((e,t)=>{var ee,te,re,ne,oe,ae;const{__scopePopper:n,side:o="bottom",sideOffset:r=0,align:s="center",alignOffset:d=0,arrowPadding:u=0,avoidCollisions:p=!0,collisionBoundary:c=[],collisionPadding:l=0,sticky:g="partial",hideWhenDetached:f=!1,updatePositionStrategy:y="optimized",onPlaced:i,...m}=e,P=ge(V,n),[w,x]=a.useState(null),$=T(t,D=>x(D)),[R,M]=a.useState(null),E=qe(R),v=(E==null?void 0:E.width)??0,b=(E==null?void 0:E.height)??0,H=o+(s!=="center"?"-"+s:""),S=typeof l=="number"?l:{top:0,right:0,bottom:0,left:0,...l},Z=Array.isArray(c)?c:[c],je=Z.length>0,N={padding:S,boundary:Z.filter(ht),altBoundary:je},{refs:Fe,floatingStyles:J,placement:Ie,isPositioned:_,middlewareData:O}=Je({strategy:"fixed",placement:H,whileElementsMounted:(...D)=>Qe(...D,{animationFrame:y==="always"}),elements:{reference:P.anchor},middleware:[et({mainAxis:r+b,alignmentAxis:d}),p&&tt({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?st():void 0,...N}),p&&rt({...N}),nt({...N,apply:({elements:D,rects:se,availableWidth:ze,availableHeight:Ye})=>{const{width:Xe,height:Ve}=se.reference,j=D.floating.style;j.setProperty("--radix-popper-available-width",`${ze}px`),j.setProperty("--radix-popper-available-height",`${Ye}px`),j.setProperty("--radix-popper-anchor-width",`${Xe}px`),j.setProperty("--radix-popper-anchor-height",`${Ve}px`)}}),R&&ot({element:R,padding:u}),mt({arrowWidth:v,arrowHeight:b}),f&&at({strategy:"referenceHidden",...N})]}),[Q,We]=be(Ie),L=Y(i);ie(()=>{_&&(L==null||L())},[_,L]);const Be=(ee=O.arrow)==null?void 0:ee.x,$e=(te=O.arrow)==null?void 0:te.y,Me=((re=O.arrow)==null?void 0:re.centerOffset)!==0,[ke,Ue]=a.useState();return ie(()=>{w&&Ue(window.getComputedStyle(w).zIndex)},[w]),h.jsx("div",{ref:Fe.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:_?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[(ne=O.transformOrigin)==null?void 0:ne.x,(oe=O.transformOrigin)==null?void 0:oe.y].join(" "),...((ae=O.hide)==null?void 0:ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:h.jsx(pt,{scope:n,placedSide:Q,onArrowChange:M,arrowX:Be,arrowY:$e,shouldHideArrow:Me,children:h.jsx(A.div,{"data-side":Q,"data-align":We,...m,ref:$,style:{...m.style,animation:_?void 0:"none"}})})})});we.displayName=V;var Ee="PopperArrow",vt={top:"bottom",right:"left",bottom:"top",left:"right"},xe=a.forwardRef(function(t,n){const{__scopePopper:o,...r}=t,s=ft(Ee,o),d=vt[s.placedSide];return h.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:h.jsx(lt,{...r,ref:n,style:{...r.style,display:"block"}})})});xe.displayName=Ee;function ht(e){return e!==null}var mt=e=>({name:"transformOrigin",options:e,fn(t){var P,w,x;const{placement:n,rects:o,middlewareData:r}=t,d=((P=r.arrow)==null?void 0:P.centerOffset)!==0,u=d?0:e.arrowWidth,p=d?0:e.arrowHeight,[c,l]=be(n),g={start:"0%",center:"50%",end:"100%"}[l],f=(((w=r.arrow)==null?void 0:w.x)??0)+u/2,y=(((x=r.arrow)==null?void 0:x.y)??0)+p/2;let i="",m="";return c==="bottom"?(i=d?g:`${f}px`,m=`${-p}px`):c==="top"?(i=d?g:`${f}px`,m=`${o.floating.height+p}px`):c==="right"?(i=`${-p}px`,m=d?g:`${y}px`):c==="left"&&(i=`${o.floating.width+p}px`,m=d?g:`${y}px`),{data:{x:i,y:m}}}});function be(e){const[t,n="center"]=e.split("-");return[t,n]}var gt=Ce,Ct=Pe,yt=we,Pt=xe,wt="DismissableLayer",z="dismissableLayer.update",Et="dismissableLayer.pointerDownOutside",xt="dismissableLayer.focusOutside",ce,Re=a.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Oe=a.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:d,onDismiss:u,...p}=e,c=a.useContext(Re),[l,g]=a.useState(null),f=(l==null?void 0:l.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=a.useState({}),i=T(t,v=>g(v)),m=Array.from(c.layers),[P]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=m.indexOf(P),x=l?m.indexOf(l):-1,$=c.layersWithOutsidePointerEventsDisabled.size>0,R=x>=w,M=Ot(v=>{const b=v.target,H=[...c.branches].some(S=>S.contains(b));!R||H||(r==null||r(v),d==null||d(v),v.defaultPrevented||u==null||u())},f),E=At(v=>{const b=v.target;[...c.branches].some(S=>S.contains(b))||(s==null||s(v),d==null||d(v),v.defaultPrevented||u==null||u())},f);return it(v=>{x===c.layers.size-1&&(o==null||o(v),!v.defaultPrevented&&u&&(v.preventDefault(),u()))},f),a.useEffect(()=>{if(l)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(ce=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(l)),c.layers.add(l),de(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=ce)}},[l,f,n,c]),a.useEffect(()=>()=>{l&&(c.layers.delete(l),c.layersWithOutsidePointerEventsDisabled.delete(l),de())},[l,c]),a.useEffect(()=>{const v=()=>y({});return document.addEventListener(z,v),()=>document.removeEventListener(z,v)},[]),h.jsx(A.div,{...p,ref:i,style:{pointerEvents:$?R?"auto":"none":void 0,...e.style},onFocusCapture:C(e.onFocusCapture,E.onFocusCapture),onBlurCapture:C(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:C(e.onPointerDownCapture,M.onPointerDownCapture)})});Oe.displayName=wt;var bt="DismissableLayerBranch",Rt=a.forwardRef((e,t)=>{const n=a.useContext(Re),o=a.useRef(null),r=T(t,o);return a.useEffect(()=>{const s=o.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),h.jsx(A.div,{...e,ref:r})});Rt.displayName=bt;function Ot(e,t=globalThis==null?void 0:globalThis.document){const n=Y(e),o=a.useRef(!1),r=a.useRef(()=>{});return a.useEffect(()=>{const s=u=>{if(u.target&&!o.current){let p=function(){Ae(Et,n,c,{discrete:!0})};const c={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=p,t.addEventListener("click",r.current,{once:!0})):p()}else t.removeEventListener("click",r.current);o.current=!1},d=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(d),t.removeEventListener("pointerdown",s),t.removeEventListener("click",r.current)}},[t,n]),{onPointerDownCapture:()=>o.current=!0}}function At(e,t=globalThis==null?void 0:globalThis.document){const n=Y(e),o=a.useRef(!1);return a.useEffect(()=>{const r=s=>{s.target&&!o.current&&Ae(xt,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,n]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function de(){const e=new CustomEvent(z);document.dispatchEvent(e)}function Ae(e,t,n,{discrete:o}){const r=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),o?Ke(r,s):r.dispatchEvent(s)}var U,q="HoverCard",[Se,Xt]=fe(q,[me]),B=me(),[St,G]=Se(q),De=e=>{const{__scopeHoverCard:t,children:n,open:o,defaultOpen:r,onOpenChange:s,openDelay:d=700,closeDelay:u=300}=e,p=B(t),c=a.useRef(0),l=a.useRef(0),g=a.useRef(!1),f=a.useRef(!1),[y=!1,i]=Ze({prop:o,defaultProp:r,onChange:s}),m=a.useCallback(()=>{clearTimeout(l.current),c.current=window.setTimeout(()=>i(!0),d)},[d,i]),P=a.useCallback(()=>{clearTimeout(c.current),!g.current&&!f.current&&(l.current=window.setTimeout(()=>i(!1),u))},[u,i]),w=a.useCallback(()=>i(!1),[i]);return a.useEffect(()=>()=>{clearTimeout(c.current),clearTimeout(l.current)},[]),h.jsx(St,{scope:t,open:y,onOpenChange:i,onOpen:m,onClose:P,onDismiss:w,hasSelectionRef:g,isPointerDownOnContentRef:f,children:h.jsx(gt,{...p,children:n})})};De.displayName=q;var Te="HoverCardTrigger",He=a.forwardRef((e,t)=>{const{__scopeHoverCard:n,...o}=e,r=G(Te,n),s=B(n);return h.jsx(Ct,{asChild:!0,...s,children:h.jsx(A.a,{"data-state":r.open?"open":"closed",...o,ref:t,onPointerEnter:C(e.onPointerEnter,W(r.onOpen)),onPointerLeave:C(e.onPointerLeave,W(r.onClose)),onFocus:C(e.onFocus,r.onOpen),onBlur:C(e.onBlur,r.onClose),onTouchStart:C(e.onTouchStart,d=>d.preventDefault())})})});He.displayName=Te;var Dt="HoverCardPortal",[Vt,Tt]=Se(Dt,{forceMount:void 0}),I="HoverCardContent",Ne=a.forwardRef((e,t)=>{const n=Tt(I,e.__scopeHoverCard),{forceMount:o=n.forceMount,...r}=e,s=G(I,e.__scopeHoverCard);return h.jsx(Ge,{present:o||s.open,children:h.jsx(Ht,{"data-state":s.open?"open":"closed",...r,onPointerEnter:C(e.onPointerEnter,W(s.onOpen)),onPointerLeave:C(e.onPointerLeave,W(s.onClose)),ref:t})})});Ne.displayName=I;var Ht=a.forwardRef((e,t)=>{const{__scopeHoverCard:n,onEscapeKeyDown:o,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:d,...u}=e,p=G(I,n),c=B(n),l=a.useRef(null),g=T(t,l),[f,y]=a.useState(!1);return a.useEffect(()=>{if(f){const i=document.body;return U=i.style.userSelect||i.style.webkitUserSelect,i.style.userSelect="none",i.style.webkitUserSelect="none",()=>{i.style.userSelect=U,i.style.webkitUserSelect=U}}},[f]),a.useEffect(()=>{if(l.current){const i=()=>{y(!1),p.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var P;((P=document.getSelection())==null?void 0:P.toString())!==""&&(p.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",i),()=>{document.removeEventListener("pointerup",i),p.hasSelectionRef.current=!1,p.isPointerDownOnContentRef.current=!1}}},[p.isPointerDownOnContentRef,p.hasSelectionRef]),a.useEffect(()=>{l.current&&Lt(l.current).forEach(m=>m.setAttribute("tabindex","-1"))}),h.jsx(Oe,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:d,onEscapeKeyDown:o,onPointerDownOutside:r,onFocusOutside:C(s,i=>{i.preventDefault()}),onDismiss:p.onDismiss,children:h.jsx(yt,{...c,...u,onPointerDown:C(u.onPointerDown,i=>{i.currentTarget.contains(i.target)&&y(!0),p.hasSelectionRef.current=!1,p.isPointerDownOnContentRef.current=!0}),ref:g,style:{...u.style,userSelect:f?"text":void 0,WebkitUserSelect:f?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),Nt="HoverCardArrow",_t=a.forwardRef((e,t)=>{const{__scopeHoverCard:n,...o}=e,r=B(n);return h.jsx(Pt,{...r,...o,ref:t})});_t.displayName=Nt;function W(e){return t=>t.pointerType==="touch"?void 0:e()}function Lt(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)t.push(n.currentNode);return t}var jt=De,Ft=He,_e=Ne;const Le=jt,It=Ft,K=a.forwardRef(({className:e,align:t="center",sideOffset:n=4,...o},r)=>a.createElement(_e,{ref:r,align:t,sideOffset:n,className:ct("z-50 w-[16rem] rounded-md border bg-theme-surface-primary p-3 outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...o}));K.displayName=_e.displayName;K.__docgenInfo={description:"",methods:[],props:{align:{defaultValue:{value:'"center"',computed:!1},required:!1},sideOffset:{defaultValue:{value:"4",computed:!1},required:!1}}};const qt={title:"Elements/HoverCard",component:Le,argTypes:{},parameters:{layout:"centered"},tags:["autodocs"]},F={name:"Default",render:()=>k.createElement(Le,null,k.createElement(It,{className:"border border-theme-border-moderate px-3 py-2 bg-theme-surface-primary rounded-md"},"Hover"),k.createElement(K,null,"This is a hover card"))};var le,ue,pe;F.parameters={...F.parameters,docs:{...(le=F.parameters)==null?void 0:le.docs,source:{originalSource:`{
  name: "Default",
  render: () => <HoverCard>
            <HoverCardTrigger className="border border-theme-border-moderate px-3 py-2 bg-theme-surface-primary rounded-md">
                Hover
            </HoverCardTrigger>
            <HoverCardContent>This is a hover card</HoverCardContent>
        </HoverCard>
}`,...(pe=(ue=F.parameters)==null?void 0:ue.docs)==null?void 0:pe.source}}};const Gt=["DefaultVariant"];export{F as DefaultVariant,Gt as __namedExportsOrder,qt as default};
