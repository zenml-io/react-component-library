import{r as o,R as $}from"./index-OjgoNOWw.js";import{$ as Me,a as D,_,c as j,b as ke,d as Ve}from"./index-ttJ0zls6.js";import{r as Ke}from"./index-mQqIOHEI.js";import{b as Ue,$ as We,a as h}from"./index-39R-7JO1.js";import{a as we}from"./index-jKYK_Gmc.js";import{$ as He}from"./index-kNhmewn5.js";import{a as Be,b as Xe}from"./index-lFYSAZig.js";import{$ as Ye}from"./index-pT7Q2Giz.js";import{a as Te}from"./index-7R9aDw1t.js";import{c as je}from"./index-polp_dyw.js";import{c as O}from"./index-FlAvnLNT.js";import{B as qe}from"./Button-1fD2P03D.js";const $e="ToastProvider",[ne,ze,Qe]=He("Toast"),[Ee,Mt]=Me("Toast",[Qe]),[Ze,q]=Ee($e),ve=e=>{const{__scopeToast:t,label:s="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:d=50,children:p}=e,[f,m]=o.useState(null),[c,y]=o.useState(0),v=o.useRef(!1),L=o.useRef(!1);return o.createElement(ne.Provider,{scope:t},o.createElement(Ze,{scope:t,label:s,duration:n,swipeDirection:a,swipeThreshold:d,toastCount:c,viewport:f,onViewportChange:m,onToastAdd:o.useCallback(()=>y(R=>R+1),[]),onToastRemove:o.useCallback(()=>y(R=>R-1),[]),isFocusedToastEscapeKeyDownRef:v,isClosePausedRef:L},p))};ve.propTypes={label(e){if(e.label&&typeof e.label=="string"&&!e.label.trim()){const t=`Invalid prop \`label\` supplied to \`${$e}\`. Expected non-empty \`string\`.`;return new Error(t)}return null}};const Ge="ToastViewport",Je=["F8"],oe="toast.viewportPause",se="toast.viewportResume",et=o.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:n=Je,label:a="Notifications ({hotkey})",...d}=e,p=q(Ge,s),f=ze(s),m=o.useRef(null),c=o.useRef(null),y=o.useRef(null),v=o.useRef(null),L=we(t,v,p.onViewportChange),R=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=p.toastCount>0;o.useEffect(()=>{const i=x=>{var u;n.every(w=>x[w]||x.code===w)&&((u=v.current)===null||u===void 0||u.focus())};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[n]),o.useEffect(()=>{const i=m.current,x=v.current;if(P&&i&&x){const u=()=>{if(!p.isClosePausedRef.current){const E=new CustomEvent(oe);x.dispatchEvent(E),p.isClosePausedRef.current=!0}},b=()=>{if(p.isClosePausedRef.current){const E=new CustomEvent(se);x.dispatchEvent(E),p.isClosePausedRef.current=!1}},w=E=>{!i.contains(E.relatedTarget)&&b()},T=()=>{i.contains(document.activeElement)||b()};return i.addEventListener("focusin",u),i.addEventListener("focusout",w),i.addEventListener("pointermove",u),i.addEventListener("pointerleave",T),window.addEventListener("blur",u),window.addEventListener("focus",b),()=>{i.removeEventListener("focusin",u),i.removeEventListener("focusout",w),i.removeEventListener("pointermove",u),i.removeEventListener("pointerleave",T),window.removeEventListener("blur",u),window.removeEventListener("focus",b)}}},[P,p.isClosePausedRef]);const l=o.useCallback(({tabbingDirection:i})=>{const u=f().map(b=>{const w=b.ref.current,T=[w,...wt(w)];return i==="forwards"?T:T.reverse()});return(i==="forwards"?u.reverse():u).flat()},[f]);return o.useEffect(()=>{const i=v.current;if(i){const x=u=>{const b=u.altKey||u.ctrlKey||u.metaKey;if(u.key==="Tab"&&!b){const F=document.activeElement,N=u.shiftKey;if(u.target===i&&N){var T;(T=c.current)===null||T===void 0||T.focus();return}const A=l({tabbingDirection:N?"backwards":"forwards"}),K=A.findIndex(r=>r===F);if(J(A.slice(K+1)))u.preventDefault();else{var E,C;N?(E=c.current)===null||E===void 0||E.focus():(C=y.current)===null||C===void 0||C.focus()}}};return i.addEventListener("keydown",x),()=>i.removeEventListener("keydown",x)}},[f,l]),o.createElement(Be,{ref:m,role:"region","aria-label":a.replace("{hotkey}",R),tabIndex:-1,style:{pointerEvents:P?void 0:"none"}},P&&o.createElement(le,{ref:c,onFocusFromOutsideViewport:()=>{const i=l({tabbingDirection:"forwards"});J(i)}}),o.createElement(ne.Slot,{scope:s},o.createElement(D.ol,_({tabIndex:-1},d,{ref:L}))),P&&o.createElement(le,{ref:y,onFocusFromOutsideViewport:()=>{const i=l({tabbingDirection:"backwards"});J(i)}}))}),tt="ToastFocusProxy",le=o.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:n,...a}=e,d=q(tt,s);return o.createElement(Te,_({"aria-hidden":!0,tabIndex:0},a,{ref:t,style:{position:"fixed"},onFocus:p=>{var f;const m=p.relatedTarget;!((f=d.viewport)!==null&&f!==void 0&&f.contains(m))&&n()}}))}),z="Toast",ot="toast.swipeStart",st="toast.swipeMove",nt="toast.swipeCancel",rt="toast.swipeEnd",at=o.forwardRef((e,t)=>{const{forceMount:s,open:n,defaultOpen:a,onOpenChange:d,...p}=e,[f=!0,m]=Ue({prop:n,defaultProp:a,onChange:d});return o.createElement(We,{present:s||f},o.createElement(xe,_({open:f},p,{ref:t,onClose:()=>m(!1),onPause:j(e.onPause),onResume:j(e.onResume),onSwipeStart:h(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:h(e.onSwipeMove,c=>{const{x:y,y:v}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${v}px`)}),onSwipeCancel:h(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:h(e.onSwipeEnd,c=>{const{x:y,y:v}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${v}px`),m(!1)})})))}),[ct,it]=Ee(z,{onClose(){}}),xe=o.forwardRef((e,t)=>{const{__scopeToast:s,type:n="foreground",duration:a,open:d,onClose:p,onEscapeKeyDown:f,onPause:m,onResume:c,onSwipeStart:y,onSwipeMove:v,onSwipeCancel:L,onSwipeEnd:R,...P}=e,l=q(z,s),[i,x]=o.useState(null),u=we(t,r=>x(r)),b=o.useRef(null),w=o.useRef(null),T=a||l.duration,E=o.useRef(0),C=o.useRef(T),F=o.useRef(0),{onToastAdd:N,onToastRemove:Z}=l,I=j(()=>{var r;(i==null?void 0:i.contains(document.activeElement))&&((r=l.viewport)===null||r===void 0||r.focus()),p()}),A=o.useCallback(r=>{!r||r===1/0||(window.clearTimeout(F.current),E.current=new Date().getTime(),F.current=window.setTimeout(I,r))},[I]);o.useEffect(()=>{const r=l.viewport;if(r){const g=()=>{A(C.current),c==null||c()},S=()=>{const M=new Date().getTime()-E.current;C.current=C.current-M,window.clearTimeout(F.current),m==null||m()};return r.addEventListener(oe,S),r.addEventListener(se,g),()=>{r.removeEventListener(oe,S),r.removeEventListener(se,g)}}},[l.viewport,T,m,c,A]),o.useEffect(()=>{d&&!l.isClosePausedRef.current&&A(T)},[d,T,l.isClosePausedRef,A]),o.useEffect(()=>(N(),()=>Z()),[N,Z]);const K=o.useMemo(()=>i?_e(i):null,[i]);return l.viewport?o.createElement(o.Fragment,null,K&&o.createElement(dt,{__scopeToast:s,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0},K),o.createElement(ct,{scope:s,onClose:I},Ke.createPortal(o.createElement(ne.ItemSlot,{scope:s},o.createElement(Xe,{asChild:!0,onEscapeKeyDown:h(f,()=>{l.isFocusedToastEscapeKeyDownRef.current||I(),l.isFocusedToastEscapeKeyDownRef.current=!1})},o.createElement(D.li,_({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":l.swipeDirection},P,{ref:u,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:h(e.onKeyDown,r=>{r.key==="Escape"&&(f==null||f(r.nativeEvent),r.nativeEvent.defaultPrevented||(l.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:h(e.onPointerDown,r=>{r.button===0&&(b.current={x:r.clientX,y:r.clientY})}),onPointerMove:h(e.onPointerMove,r=>{if(!b.current)return;const g=r.clientX-b.current.x,S=r.clientY-b.current.y,M=!!w.current,k=["left","right"].includes(l.swipeDirection),U=["left","up"].includes(l.swipeDirection)?Math.min:Math.max,Le=k?U(0,g):0,Fe=k?0:U(0,S),G=r.pointerType==="touch"?10:2,W={x:Le,y:Fe},de={originalEvent:r,delta:W};M?(w.current=W,H(st,v,de,{discrete:!1})):ue(W,l.swipeDirection,G)?(w.current=W,H(ot,y,de,{discrete:!1}),r.target.setPointerCapture(r.pointerId)):(Math.abs(g)>G||Math.abs(S)>G)&&(b.current=null)}),onPointerUp:h(e.onPointerUp,r=>{const g=w.current,S=r.target;if(S.hasPointerCapture(r.pointerId)&&S.releasePointerCapture(r.pointerId),w.current=null,b.current=null,g){const M=r.currentTarget,k={originalEvent:r,delta:g};ue(g,l.swipeDirection,l.swipeThreshold)?H(rt,R,k,{discrete:!0}):H(nt,L,k,{discrete:!0}),M.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})))),l.viewport))):null});xe.propTypes={type(e){if(e.type&&!["foreground","background"].includes(e.type)){const t=`Invalid prop \`type\` supplied to \`${z}\`. Expected \`foreground | background\`.`;return new Error(t)}return null}};const dt=e=>{const{__scopeToast:t,children:s,...n}=e,a=q(z,t),[d,p]=o.useState(!1),[f,m]=o.useState(!1);return mt(()=>p(!0)),o.useEffect(()=>{const c=window.setTimeout(()=>m(!0),1e3);return()=>window.clearTimeout(c)},[]),f?null:o.createElement(Ye,{asChild:!0},o.createElement(Te,n,d&&o.createElement(o.Fragment,null,a.label," ",s)))},lt=o.forwardRef((e,t)=>{const{__scopeToast:s,...n}=e;return o.createElement(D.div,_({},n,{ref:t}))}),ut=o.forwardRef((e,t)=>{const{__scopeToast:s,...n}=e;return o.createElement(D.div,_({},n,{ref:t}))}),pt="ToastAction",ye=o.forwardRef((e,t)=>{const{altText:s,...n}=e;return s?o.createElement(he,{altText:s,asChild:!0},o.createElement(ge,_({},n,{ref:t}))):null});ye.propTypes={altText(e){return e.altText?null:new Error(`Missing prop \`altText\` expected on \`${pt}\``)}};const ft="ToastClose",ge=o.forwardRef((e,t)=>{const{__scopeToast:s,...n}=e,a=it(ft,s);return o.createElement(he,{asChild:!0},o.createElement(D.button,_({type:"button"},n,{ref:t,onClick:h(e.onClick,a.onClose)})))}),he=o.forwardRef((e,t)=>{const{__scopeToast:s,altText:n,...a}=e;return o.createElement(D.div,_({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0},a,{ref:t}))});function _e(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),bt(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",d=n.dataset.radixToastAnnounceExclude==="";if(!a)if(d){const p=n.dataset.radixToastAnnounceAlt;p&&t.push(p)}else t.push(..._e(n))}}),t}function H(e,t,s,{discrete:n}){const a=s.originalEvent.currentTarget,d=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),n?Ve(a,d):a.dispatchEvent(d)}const ue=(e,t,s=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),d=n>a;return t==="left"||t==="right"?d&&n>s:!d&&a>s};function mt(e=()=>{}){const t=j(e);ke(()=>{let s=0,n=0;return s=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(n)}},[t])}function bt(e){return e.nodeType===e.ELEMENT_NODE}function wt(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function J(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}const Tt=ve,Ce=et,Se=at,Re=lt,Pe=ut,Ae=ye,Ne=ge,$t=Tt,re=o.forwardRef(({className:e,...t},s)=>o.createElement(Ce,{ref:s,className:O("fixed top-0 z-[9999] flex max-h-screen w-full flex-col-reverse gap-1 p-4 sm:right-0 sm:top-7 sm:flex-col md:max-w-[480px]",e),...t}));re.displayName=Ce.displayName;const Et=je("group pointer-events-auto pl-4 pr-6 py-3 relative flex w-full items-center justify-between overflow-hidden border transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{rounded:{true:"rounded-md",false:""},status:{default:"",error:"",success:"",warning:""},emphasis:{subtle:"border",bold:""}},compoundVariants:[{emphasis:"bold",status:"default",className:"white-close bg-theme-surface-strong text-theme-text-negative"},{emphasis:"subtle",status:"default",class:"bg-primary-25 border-primary-400 text-theme-text-primary"},{emphasis:"bold",status:"error",className:"white-close bg-error-600 text-theme-text-negative"},{emphasis:"subtle",status:"error",className:"bg-error-50 border-error-300 text-error-900"},{emphasis:"bold",status:"success",className:"white-close bg-success-700 text-theme-text-negative"},{emphasis:"subtle",status:"success",className:"bg-success-50 border-success-300 text-success-900"},{emphasis:"bold",status:"warning",className:"bg-warning-400"},{emphasis:"subtle",status:"warning",className:"bg-warning-50 border-warning-300 text-warning-900"}],defaultVariants:{status:"default"}}),Q=o.forwardRef(({className:e,status:t,rounded:s,emphasis:n,...a},d)=>o.createElement(Se,{ref:d,className:O(Et({status:t,rounded:s,emphasis:n}),e),...a}));Q.displayName=Se.displayName;const Ie=o.forwardRef(({className:e,...t},s)=>o.createElement(Ae,{ref:s,className:O("text-sm ring-offset-background hover:bg-secondary focus:ring-ring inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Ie.displayName=Ae.displayName;const ae=o.forwardRef(({className:e,...t},s)=>o.createElement(Ne,{ref:s,className:O("absolute right-2 top-2 rounded-md p-0.5 group-[.white-close]:text-theme-text-negative",e),"toast-close":"",...t},o.createElement("svg",{className:"h-4 w-4 group-[.white-close]:fill-white",viewBox:"0 0 24 24",fill:"black",xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.29289 5.29289C5.68342 4.90237 6.31658 4.90237 6.70711 5.29289L12 10.5858L17.2929 5.29289C17.6834 4.90237 18.3166 4.90237 18.7071 5.29289C19.0976 5.68342 19.0976 6.31658 18.7071 6.70711L13.4142 12L18.7071 17.2929C19.0976 17.6834 19.0976 18.3166 18.7071 18.7071C18.3166 19.0976 17.6834 19.0976 17.2929 18.7071L12 13.4142L6.70711 18.7071C6.31658 19.0976 5.68342 19.0976 5.29289 18.7071C4.90237 18.3166 4.90237 17.6834 5.29289 17.2929L10.5858 12L5.29289 6.70711C4.90237 6.31658 4.90237 5.68342 5.29289 5.29289Z"}))));ae.displayName=Ne.displayName;const ce=o.forwardRef(({className:e,...t},s)=>o.createElement(Re,{ref:s,className:O("text-sm font-semibold",e),...t}));ce.displayName=Re.displayName;const ie=o.forwardRef(({className:e,...t},s)=>o.createElement(Pe,{ref:s,className:O("text-sm opacity-90",e),...t}));ie.displayName=Pe.displayName;Q.__docgenInfo={description:"",methods:[]};Ie.__docgenInfo={description:"",methods:[]};ae.__docgenInfo={description:"",methods:[]};ie.__docgenInfo={description:"",methods:[]};ce.__docgenInfo={description:"",methods:[]};re.__docgenInfo={description:"",methods:[]};const vt=2,xt=1e6;let ee=0;function yt(){return ee=(ee+1)%Number.MAX_VALUE,ee.toString()}const te=new Map,pe=e=>{if(te.has(e))return;const t=setTimeout(()=>{te.delete(e),V({type:"REMOVE_TOAST",toastId:e})},xt);te.set(e,t)},gt=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,vt)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?pe(s):e.toasts.forEach(n=>{pe(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===s||s===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)}}},X=[];let Y={toasts:[]};function V(e){Y=gt(Y,e),X.forEach(t=>{t(Y)})}function De({...e}){const t=yt(),s=a=>V({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>V({type:"DISMISS_TOAST",toastId:t});return V({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:s}}function ht(){const[e,t]=o.useState(Y);return o.useEffect(()=>(X.push(t),()=>{const s=X.indexOf(t);s>-1&&X.splice(s,1)}),[e]),{...e,toast:De,dismiss:s=>V({type:"DISMISS_TOAST",toastId:s})}}function Oe(){const{toasts:e}=ht();return $.createElement($t,null,e.map(function({id:t,title:s,description:n,action:a,icon:d,...p}){return $.createElement(Q,{key:t,...p},$.createElement("div",{className:"flex flex-col gap-3"},$.createElement("div",{className:"flex gap-2"},d&&d,s&&$.createElement(ce,null,s),n&&$.createElement(ie,null,n)),a&&$.createElement("div",{className:"ml-auto"},a)),$.createElement(ae,null))}),$.createElement(re,null))}Oe.__docgenInfo={description:"",methods:[],displayName:"Toaster"};const kt={title:"Elements/Toast",component:Q,argTypes:{emphasis:{description:"Emphasis of the toast",control:"select",defaultValue:"subtle",options:["subtle","bold"]},status:{description:"Status of the toast",control:"select",defaultValue:"default",options:["default","error","success","warning"]},rounded:{control:"boolean",defaultValue:!0}},parameters:{layout:"centered"},decorators:[e=>$.createElement("div",{className:"min-w-[800px] flex items-center justify-center min-h-[1000px]"},$.createElement(e,null))],tags:["autodocs"]},B={name:"Toast",argTypes:{emphasis:"subtle",status:"error",rounded:"true"},render:({emphasis:e,status:t,rounded:s})=>$.createElement("div",null,$.createElement(qe,{onClick:()=>{De({status:t,emphasis:e,description:"This is a toast message",rounded:s})}},"Add Toast"),$.createElement(Oe,null))};var fe,me,be;B.parameters={...B.parameters,docs:{...(fe=B.parameters)==null?void 0:fe.docs,source:{originalSource:`{
  name: "Toast",
  argTypes: {
    // @ts-expect-error for some reason a wrong type is picked up there
    emphasis: "subtle",
    // @ts-expect-error for some reason a wrong type is picked up there
    status: "error",
    // @ts-expect-error for some reason a wrong type is picked up there
    rounded: "true"
  },
  render: ({
    emphasis,
    status,
    rounded
  }) => <div>
            <Button onClick={() => {
      toast({
        status,
        emphasis,
        description: "This is a toast message",
        rounded
      });
    }}>
                Add Toast
            </Button>
            <Toaster />
        </div>
}`,...(be=(me=B.parameters)==null?void 0:me.docs)==null?void 0:be.source}}};const Vt=["DefaultVariant"];export{B as DefaultVariant,Vt as __namedExportsOrder,kt as default};
