import{r as t,R as H}from"./index-yUhCOHB4.js";import{u as V,c as d}from"./index-D4ukzbp3.js";import{c as W,P as $}from"./index-DQXGlRzm.js";import{u as z}from"./index-CLdCKqIz.js";import{c as _,R as B,A as q,C as G,a as K}from"./index-BUbqCghI.js";import{P as J}from"./index-Bt0LB2xV.js";import{D as Q}from"./index-DLnfOhia.js";import{j as l}from"./jsx-runtime-DBhXMc9n.js";import{c as X}from"./index-DcuGh8cT.js";import"./index-Da_IA54p.js";import"./index-z4ifl892.js";import"./index-Bl96pswo.js";var S,T="HoverCard",[A,xe]=W(T,[_]),E=_(),[Y,w]=A(T),j=e=>{const{__scopeHoverCard:o,children:n,open:s,defaultOpen:a,onOpenChange:c,openDelay:f=700,closeDelay:m=300}=e,i=E(o),v=t.useRef(0),u=t.useRef(0),C=t.useRef(!1),p=t.useRef(!1),[h=!1,r]=V({prop:s,defaultProp:a,onChange:c}),g=t.useCallback(()=>{clearTimeout(u.current),v.current=window.setTimeout(()=>r(!0),f)},[f,r]),b=t.useCallback(()=>{clearTimeout(v.current),!C.current&&!p.current&&(u.current=window.setTimeout(()=>r(!1),m))},[m,r]),U=t.useCallback(()=>r(!1),[r]);return t.useEffect(()=>()=>{clearTimeout(v.current),clearTimeout(u.current)},[]),l.jsx(Y,{scope:o,open:h,onOpenChange:r,onOpen:g,onClose:b,onDismiss:U,hasSelectionRef:C,isPointerDownOnContentRef:p,children:l.jsx(B,{...i,children:n})})};j.displayName=T;var L="HoverCardTrigger",k=t.forwardRef((e,o)=>{const{__scopeHoverCard:n,...s}=e,a=w(L,n),c=E(n);return l.jsx(q,{asChild:!0,...c,children:l.jsx($.a,{"data-state":a.open?"open":"closed",...s,ref:o,onPointerEnter:d(e.onPointerEnter,P(a.onOpen)),onPointerLeave:d(e.onPointerLeave,P(a.onClose)),onFocus:d(e.onFocus,a.onOpen),onBlur:d(e.onBlur,a.onClose),onTouchStart:d(e.onTouchStart,f=>f.preventDefault())})})});k.displayName=L;var Z="HoverCardPortal",[Re,ee]=A(Z,{forceMount:void 0}),R="HoverCardContent",F=t.forwardRef((e,o)=>{const n=ee(R,e.__scopeHoverCard),{forceMount:s=n.forceMount,...a}=e,c=w(R,e.__scopeHoverCard);return l.jsx(J,{present:s||c.open,children:l.jsx(re,{"data-state":c.open?"open":"closed",...a,onPointerEnter:d(e.onPointerEnter,P(c.onOpen)),onPointerLeave:d(e.onPointerLeave,P(c.onClose)),ref:o})})});F.displayName=R;var re=t.forwardRef((e,o)=>{const{__scopeHoverCard:n,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:c,onInteractOutside:f,...m}=e,i=w(R,n),v=E(n),u=t.useRef(null),C=z(o,u),[p,h]=t.useState(!1);return t.useEffect(()=>{if(p){const r=document.body;return S=r.style.userSelect||r.style.webkitUserSelect,r.style.userSelect="none",r.style.webkitUserSelect="none",()=>{r.style.userSelect=S,r.style.webkitUserSelect=S}}},[p]),t.useEffect(()=>{if(u.current){const r=()=>{h(!1),i.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var b;((b=document.getSelection())==null?void 0:b.toString())!==""&&(i.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",r),()=>{document.removeEventListener("pointerup",r),i.hasSelectionRef.current=!1,i.isPointerDownOnContentRef.current=!1}}},[i.isPointerDownOnContentRef,i.hasSelectionRef]),t.useEffect(()=>{u.current&&ne(u.current).forEach(g=>g.setAttribute("tabindex","-1"))}),l.jsx(Q,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:f,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:d(c,r=>{r.preventDefault()}),onDismiss:i.onDismiss,children:l.jsx(G,{...v,...m,onPointerDown:d(m.onPointerDown,r=>{r.currentTarget.contains(r.target)&&h(!0),i.hasSelectionRef.current=!1,i.isPointerDownOnContentRef.current=!0}),ref:C,style:{...m.style,userSelect:p?"text":void 0,WebkitUserSelect:p?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),te="HoverCardArrow",oe=t.forwardRef((e,o)=>{const{__scopeHoverCard:n,...s}=e,a=E(n);return l.jsx(K,{...a,...s,ref:o})});oe.displayName=te;function P(e){return o=>o.pointerType==="touch"?void 0:e()}function ne(e){const o=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)o.push(n.currentNode);return o}var ae=j,se=k,M=F;const I=ae,ie=se,y=t.forwardRef(({className:e,align:o="center",sideOffset:n=4,...s},a)=>t.createElement(M,{ref:a,align:o,sideOffset:n,className:X("z-50 w-[16rem] rounded-md border bg-theme-surface-primary p-3 outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s}));y.displayName=M.displayName;y.__docgenInfo={description:"",methods:[],props:{align:{defaultValue:{value:'"center"',computed:!1},required:!1},sideOffset:{defaultValue:{value:"4",computed:!1},required:!1}}};const Pe={title:"Elements/HoverCard",component:I,argTypes:{},parameters:{layout:"centered"},tags:["autodocs"]},x={name:"Default",render:()=>H.createElement(I,null,H.createElement(ie,{className:"border border-theme-border-moderate px-3 py-2 bg-theme-surface-primary rounded-md"},"Hover"),H.createElement(y,null,"This is a hover card"))};var O,D,N;x.parameters={...x.parameters,docs:{...(O=x.parameters)==null?void 0:O.docs,source:{originalSource:`{
  name: "Default",
  render: () => <HoverCard>
            <HoverCardTrigger className="border border-theme-border-moderate px-3 py-2 bg-theme-surface-primary rounded-md">
                Hover
            </HoverCardTrigger>
            <HoverCardContent>This is a hover card</HoverCardContent>
        </HoverCard>
}`,...(N=(D=x.parameters)==null?void 0:D.docs)==null?void 0:N.source}}};const Ee=["DefaultVariant"];export{x as DefaultVariant,Ee as __namedExportsOrder,Pe as default};
