import{r as i,R}from"./index-OjgoNOWw.js";import{P as E,c as re,u as M,a as O,b as ne,R as Ge,S as Ze,d as qe,F as Ke,D as Ue,e as Je}from"./Combination-bYQB0MpC.js";import{u as Qe}from"./index-RRyXKxFa.js";import{u as eo,a as oo,o as to,s as ro,f as no,b as ao,c as so,h as io,l as co}from"./floating-ui.react-dom-Wgxx3Fnh.js";import{j as c}from"./jsx-runtime-DtaoT6pD.js";import{u as po,a as Q,b as lo}from"./index-R7V_VaZ-.js";import{u as uo}from"./index-DtF0rg55.js";import{h as fo}from"./index-z68eL0un.js";import{c as mo}from"./index-LfZfiPec.js";import{B as vo}from"./Button-8DtMR3DB.js";import"./index-zswQOfMq.js";import"./index-mQqIOHEI.js";import"./index-6Pk-3rAJ.js";import"./index-polp_dyw.js";var ho="Arrow",ae=i.forwardRef((e,a)=>{const{children:r,width:n=10,height:o=5,...t}=e;return c.jsx(E.svg,{...t,ref:a,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});ae.displayName=ho;var go=ae,T="Popper",[se,ie]=re(T),[Po,ce]=se(T),pe=e=>{const{__scopePopper:a,children:r}=e,[n,o]=i.useState(null);return c.jsx(Po,{scope:a,anchor:n,onAnchorChange:o,children:r})};pe.displayName=T;var le="PopperAnchor",de=i.forwardRef((e,a)=>{const{__scopePopper:r,virtualRef:n,...o}=e,t=ce(le,r),s=i.useRef(null),p=M(a,s);return i.useEffect(()=>{t.onAnchorChange((n==null?void 0:n.current)||s.current)}),n?null:c.jsx(E.div,{...o,ref:p})});de.displayName=le;var k="PopperContent",[xo,Co]=se(k),ue=i.forwardRef((e,a)=>{var X,G,Z,q,K,U;const{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:t="center",alignOffset:s=0,arrowPadding:p=0,avoidCollisions:l=!0,collisionBoundary:d=[],collisionPadding:m=0,sticky:f="partial",hideWhenDetached:u=!1,updatePositionStrategy:v="optimized",onPlaced:P,...h}=e,b=ce(k,r),[x,N]=i.useState(null),Ne=M(a,y=>N(y)),[I,Se]=i.useState(null),C=uo(I),je=(C==null?void 0:C.width)??0,Y=(C==null?void 0:C.height)??0,De=n+(t!=="center"?"-"+t:""),Fe=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},z=Array.isArray(d)?d:[d],$e=z.length>0,S={padding:Fe,boundary:z.filter(Ao),altBoundary:$e},{refs:Me,floatingStyles:L,placement:Ie,isPositioned:j,middlewareData:w}=eo({strategy:"fixed",placement:De,whileElementsMounted:(...y)=>oo(...y,{animationFrame:v==="always"}),elements:{reference:b.anchor},middleware:[to({mainAxis:o+Y,alignmentAxis:s}),l&&ro({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?co():void 0,...S}),l&&no({...S}),ao({...S,apply:({elements:y,rects:J,availableWidth:ze,availableHeight:Le})=>{const{width:Ve,height:Xe}=J.reference,F=y.floating.style;F.setProperty("--radix-popper-available-width",`${ze}px`),F.setProperty("--radix-popper-available-height",`${Le}px`),F.setProperty("--radix-popper-anchor-width",`${Ve}px`),F.setProperty("--radix-popper-anchor-height",`${Xe}px`)}}),I&&so({element:I,padding:p}),yo({arrowWidth:je,arrowHeight:Y}),u&&io({strategy:"referenceHidden",...S})]}),[V,Te]=ve(Ie),D=po(P);Q(()=>{j&&(D==null||D())},[j,D]);const ke=(X=w.arrow)==null?void 0:X.x,He=(G=w.arrow)==null?void 0:G.y,Be=((Z=w.arrow)==null?void 0:Z.centerOffset)!==0,[We,Ye]=i.useState();return Q(()=>{x&&Ye(window.getComputedStyle(x).zIndex)},[x]),c.jsx("div",{ref:Me.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:j?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:We,"--radix-popper-transform-origin":[(q=w.transformOrigin)==null?void 0:q.x,(K=w.transformOrigin)==null?void 0:K.y].join(" "),...((U=w.hide)==null?void 0:U.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:c.jsx(xo,{scope:r,placedSide:V,onArrowChange:Se,arrowX:ke,arrowY:He,shouldHideArrow:Be,children:c.jsx(E.div,{"data-side":V,"data-align":Te,...h,ref:Ne,style:{...h.style,animation:j?void 0:"none"}})})})});ue.displayName=k;var fe="PopperArrow",wo={top:"bottom",right:"left",bottom:"top",left:"right"},me=i.forwardRef(function(a,r){const{__scopePopper:n,...o}=a,t=Co(fe,n),s=wo[t.placedSide];return c.jsx("span",{ref:t.onArrowChange,style:{position:"absolute",left:t.arrowX,top:t.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[t.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[t.placedSide],visibility:t.shouldHideArrow?"hidden":void 0},children:c.jsx(go,{...o,ref:r,style:{...o.style,display:"block"}})})});me.displayName=fe;function Ao(e){return e!==null}var yo=e=>({name:"transformOrigin",options:e,fn(a){var b,x,N;const{placement:r,rects:n,middlewareData:o}=a,s=((b=o.arrow)==null?void 0:b.centerOffset)!==0,p=s?0:e.arrowWidth,l=s?0:e.arrowHeight,[d,m]=ve(r),f={start:"0%",center:"50%",end:"100%"}[m],u=(((x=o.arrow)==null?void 0:x.x)??0)+p/2,v=(((N=o.arrow)==null?void 0:N.y)??0)+l/2;let P="",h="";return d==="bottom"?(P=s?f:`${u}px`,h=`${-l}px`):d==="top"?(P=s?f:`${u}px`,h=`${n.floating.height+l}px`):d==="right"?(P=`${-l}px`,h=s?f:`${v}px`):d==="left"&&(P=`${n.floating.width+l}px`,h=s?f:`${v}px`),{data:{x:P,y:h}}}});function ve(e){const[a,r="center"]=e.split("-");return[a,r]}var Ro=pe,he=de,Oo=ue,Eo=me,H="Popover",[ge,et]=re(H,[ie]),_=ie(),[_o,g]=ge(H),Pe=e=>{const{__scopePopover:a,children:r,open:n,defaultOpen:o,onOpenChange:t,modal:s=!1}=e,p=_(a),l=i.useRef(null),[d,m]=i.useState(!1),[f=!1,u]=lo({prop:n,defaultProp:o,onChange:t});return c.jsx(Ro,{...p,children:c.jsx(_o,{scope:a,contentId:Qe(),triggerRef:l,open:f,onOpenChange:u,onOpenToggle:i.useCallback(()=>u(v=>!v),[u]),hasCustomAnchor:d,onCustomAnchorAdd:i.useCallback(()=>m(!0),[]),onCustomAnchorRemove:i.useCallback(()=>m(!1),[]),modal:s,children:r})})};Pe.displayName=H;var xe="PopoverAnchor",bo=i.forwardRef((e,a)=>{const{__scopePopover:r,...n}=e,o=g(xe,r),t=_(r),{onCustomAnchorAdd:s,onCustomAnchorRemove:p}=o;return i.useEffect(()=>(s(),()=>p()),[s,p]),c.jsx(he,{...t,...n,ref:a})});bo.displayName=xe;var Ce="PopoverTrigger",we=i.forwardRef((e,a)=>{const{__scopePopover:r,...n}=e,o=g(Ce,r),t=_(r),s=M(a,o.triggerRef),p=c.jsx(E.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Ee(o.open),...n,ref:s,onClick:O(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?p:c.jsx(he,{asChild:!0,...t,children:p})});we.displayName=Ce;var B="PopoverPortal",[No,So]=ge(B,{forceMount:void 0}),Ae=e=>{const{__scopePopover:a,forceMount:r,children:n,container:o}=e,t=g(B,a);return c.jsx(No,{scope:a,forceMount:r,children:c.jsx(ne,{present:r||t.open,children:c.jsx(Je,{asChild:!0,container:o,children:n})})})};Ae.displayName=B;var A="PopoverContent",ye=i.forwardRef((e,a)=>{const r=So(A,e.__scopePopover),{forceMount:n=r.forceMount,...o}=e,t=g(A,e.__scopePopover);return c.jsx(ne,{present:n||t.open,children:t.modal?c.jsx(jo,{...o,ref:a}):c.jsx(Do,{...o,ref:a})})});ye.displayName=A;var jo=i.forwardRef((e,a)=>{const r=g(A,e.__scopePopover),n=i.useRef(null),o=M(a,n),t=i.useRef(!1);return i.useEffect(()=>{const s=n.current;if(s)return fo(s)},[]),c.jsx(Ge,{as:Ze,allowPinchZoom:!0,children:c.jsx(Re,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:O(e.onCloseAutoFocus,s=>{var p;s.preventDefault(),t.current||(p=r.triggerRef.current)==null||p.focus()}),onPointerDownOutside:O(e.onPointerDownOutside,s=>{const p=s.detail.originalEvent,l=p.button===0&&p.ctrlKey===!0,d=p.button===2||l;t.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:O(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),Do=i.forwardRef((e,a)=>{const r=g(A,e.__scopePopover),n=i.useRef(!1),o=i.useRef(!1);return c.jsx(Re,{...e,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var s,p;(s=e.onCloseAutoFocus)==null||s.call(e,t),t.defaultPrevented||(n.current||(p=r.triggerRef.current)==null||p.focus(),t.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:t=>{var l,d;(l=e.onInteractOutside)==null||l.call(e,t),t.defaultPrevented||(n.current=!0,t.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const s=t.target;((d=r.triggerRef.current)==null?void 0:d.contains(s))&&t.preventDefault(),t.detail.originalEvent.type==="focusin"&&o.current&&t.preventDefault()}})}),Re=i.forwardRef((e,a)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:t,disableOutsidePointerEvents:s,onEscapeKeyDown:p,onPointerDownOutside:l,onFocusOutside:d,onInteractOutside:m,...f}=e,u=g(A,r),v=_(r);return qe(),c.jsx(Ke,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:t,children:c.jsx(Ue,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:m,onEscapeKeyDown:p,onPointerDownOutside:l,onFocusOutside:d,onDismiss:()=>u.onOpenChange(!1),children:c.jsx(Oo,{"data-state":Ee(u.open),role:"dialog",id:u.contentId,...v,...f,ref:a,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Oe="PopoverClose",Fo=i.forwardRef((e,a)=>{const{__scopePopover:r,...n}=e,o=g(Oe,r);return c.jsx(E.button,{type:"button",...n,ref:a,onClick:O(e.onClick,()=>o.onOpenChange(!1))})});Fo.displayName=Oe;var $o="PopoverArrow",Mo=i.forwardRef((e,a)=>{const{__scopePopover:r,...n}=e,o=_(r);return c.jsx(Eo,{...o,...n,ref:a})});Mo.displayName=$o;function Ee(e){return e?"open":"closed"}var Io=Pe,To=we,ko=Ae,_e=ye;const be=Io,Ho=To,W=i.forwardRef(({className:e,align:a="center",sideOffset:r=4,...n},o)=>i.createElement(ko,null,i.createElement(_e,{ref:o,align:a,sideOffset:r,className:mo("z-50 rounded-md border border-theme-border-minimal bg-theme-surface-primary p-2 shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})));W.displayName=_e.displayName;W.__docgenInfo={description:"",methods:[],props:{align:{defaultValue:{value:'"center"',computed:!1},required:!1},sideOffset:{defaultValue:{value:"4",computed:!1},required:!1}}};const ot={title:"Elements/Popover",component:be,argTypes:{},parameters:{layout:"centered"},tags:["autodocs"]},$={name:"Default",render:()=>R.createElement(be,null,R.createElement(Ho,{asChild:!0},R.createElement(vo,null,"Open Popover")),R.createElement(W,{className:"w-[250px]"},R.createElement("div",null,"Popover Content")))};var ee,oe,te;$.parameters={...$.parameters,docs:{...(ee=$.parameters)==null?void 0:ee.docs,source:{originalSource:`{
  name: "Default",
  render: () => <Popover>
            <PopoverTrigger asChild>
                <Button>Open Popover</Button>
            </PopoverTrigger>
            <PopoverContent className="w-[250px]">
                <div>Popover Content</div>
            </PopoverContent>
        </Popover>
}`,...(te=(oe=$.parameters)==null?void 0:oe.docs)==null?void 0:te.source}}};const tt=["DefaultVariant"];export{$ as DefaultVariant,tt as __namedExportsOrder,ot as default};
