import{r,R as E}from"./index-yUhCOHB4.js";import{r as Ue}from"./index-z4ifl892.js";import{u as We,c as P}from"./index-D4ukzbp3.js";import{u as Ee}from"./index-CLdCKqIz.js";import{c as Xe}from"./index-C2ukzIhV.js";import{c as Ye,P as O,d as qe}from"./index-DQXGlRzm.js";import{R as ze,B as Qe}from"./index-DLnfOhia.js";import{P as Ze}from"./index-C1ppjEGk.js";import{P as Ge}from"./index-Bt0LB2xV.js";import{a as Y,u as Je}from"./index-Da_IA54p.js";import{V as xe}from"./index-CxJgGtSs.js";import{j as l}from"./jsx-runtime-DBhXMc9n.js";import{c as et}from"./index-CanQ0flI.js";import{c as F}from"./index-DcuGh8cT.js";import{B as tt}from"./Button-C9t4LVQ2.js";var ne="ToastProvider",[ae,st,ot]=Xe("Toast"),[he,Ht]=Ye("Toast",[ot]),[rt,q]=he(ne),ye=e=>{const{__scopeToast:t,label:s="Notification",duration:o=5e3,swipeDirection:n="right",swipeThreshold:u=50,children:p}=e,[T,w]=r.useState(null),[a,C]=r.useState(0),h=r.useRef(!1),L=r.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${ne}\`. Expected non-empty \`string\`.`),l.jsx(ae.Provider,{scope:t,children:l.jsx(rt,{scope:t,label:s,duration:o,swipeDirection:n,swipeThreshold:u,toastCount:a,viewport:T,onViewportChange:w,onToastAdd:r.useCallback(()=>C(S=>S+1),[]),onToastRemove:r.useCallback(()=>C(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:L,children:p})})};ye.displayName=ne;var ge="ToastViewport",nt=["F8"],se="toast.viewportPause",oe="toast.viewportResume",be=r.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:o=nt,label:n="Notifications ({hotkey})",...u}=e,p=q(ge,s),T=st(s),w=r.useRef(null),a=r.useRef(null),C=r.useRef(null),h=r.useRef(null),L=Ee(t,h,p.onViewportChange),S=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=p.toastCount>0;r.useEffect(()=>{const c=y=>{var f;o.length!==0&&o.every(v=>y[v]||y.code===v)&&((f=h.current)==null||f.focus())};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[o]),r.useEffect(()=>{const c=w.current,y=h.current;if(_&&c&&y){const m=()=>{if(!p.isClosePausedRef.current){const g=new CustomEvent(se);y.dispatchEvent(g),p.isClosePausedRef.current=!0}},f=()=>{if(p.isClosePausedRef.current){const g=new CustomEvent(oe);y.dispatchEvent(g),p.isClosePausedRef.current=!1}},v=g=>{!c.contains(g.relatedTarget)&&f()},x=()=>{c.contains(document.activeElement)||f()};return c.addEventListener("focusin",m),c.addEventListener("focusout",v),c.addEventListener("pointermove",m),c.addEventListener("pointerleave",x),window.addEventListener("blur",m),window.addEventListener("focus",f),()=>{c.removeEventListener("focusin",m),c.removeEventListener("focusout",v),c.removeEventListener("pointermove",m),c.removeEventListener("pointerleave",x),window.removeEventListener("blur",m),window.removeEventListener("focus",f)}}},[_,p.isClosePausedRef]);const d=r.useCallback(({tabbingDirection:c})=>{const m=T().map(f=>{const v=f.ref.current,x=[v,...Et(v)];return c==="forwards"?x:x.reverse()});return(c==="forwards"?m.reverse():m).flat()},[T]);return r.useEffect(()=>{const c=h.current;if(c){const y=m=>{var x,g,N;const f=m.altKey||m.ctrlKey||m.metaKey;if(m.key==="Tab"&&!f){const M=document.activeElement,I=m.shiftKey;if(m.target===c&&I){(x=a.current)==null||x.focus();return}const A=d({tabbingDirection:I?"backwards":"forwards"}),K=A.findIndex(i=>i===M);J(A.slice(K+1))?m.preventDefault():I?(g=a.current)==null||g.focus():(N=C.current)==null||N.focus()}};return c.addEventListener("keydown",y),()=>c.removeEventListener("keydown",y)}},[T,d]),l.jsxs(Qe,{ref:w,role:"region","aria-label":n.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&l.jsx(re,{ref:a,onFocusFromOutsideViewport:()=>{const c=d({tabbingDirection:"forwards"});J(c)}}),l.jsx(ae.Slot,{scope:s,children:l.jsx(O.ol,{tabIndex:-1,...u,ref:L})}),_&&l.jsx(re,{ref:C,onFocusFromOutsideViewport:()=>{const c=d({tabbingDirection:"backwards"});J(c)}})]})});be.displayName=ge;var Ce="ToastFocusProxy",re=r.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:o,...n}=e,u=q(Ce,s);return l.jsx(xe,{"aria-hidden":!0,tabIndex:0,...n,ref:t,style:{position:"fixed"},onFocus:p=>{var a;const T=p.relatedTarget;!((a=u.viewport)!=null&&a.contains(T))&&o()}})});re.displayName=Ce;var z="Toast",at="toast.swipeStart",it="toast.swipeMove",ct="toast.swipeCancel",lt="toast.swipeEnd",Pe=r.forwardRef((e,t)=>{const{forceMount:s,open:o,defaultOpen:n,onOpenChange:u,...p}=e,[T=!0,w]=We({prop:o,defaultProp:n,onChange:u});return l.jsx(Ge,{present:s||T,children:l.jsx(pt,{open:T,...p,ref:t,onClose:()=>w(!1),onPause:Y(e.onPause),onResume:Y(e.onResume),onSwipeStart:P(e.onSwipeStart,a=>{a.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:P(e.onSwipeMove,a=>{const{x:C,y:h}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","move"),a.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${C}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:P(e.onSwipeCancel,a=>{a.currentTarget.setAttribute("data-swipe","cancel"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:P(e.onSwipeEnd,a=>{const{x:C,y:h}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","end"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${C}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),w(!1)})})})});Pe.displayName=z;var[ut,dt]=he(z,{onClose(){}}),pt=r.forwardRef((e,t)=>{const{__scopeToast:s,type:o="foreground",duration:n,open:u,onClose:p,onEscapeKeyDown:T,onPause:w,onResume:a,onSwipeStart:C,onSwipeMove:h,onSwipeCancel:L,onSwipeEnd:S,..._}=e,d=q(z,s),[c,y]=r.useState(null),m=Ee(t,i=>y(i)),f=r.useRef(null),v=r.useRef(null),x=n||d.duration,g=r.useRef(0),N=r.useRef(x),M=r.useRef(0),{onToastAdd:I,onToastRemove:Z}=d,D=Y(()=>{var b;(c==null?void 0:c.contains(document.activeElement))&&((b=d.viewport)==null||b.focus()),p()}),A=r.useCallback(i=>{!i||i===1/0||(window.clearTimeout(M.current),g.current=new Date().getTime(),M.current=window.setTimeout(D,i))},[D]);r.useEffect(()=>{const i=d.viewport;if(i){const b=()=>{A(N.current),a==null||a()},R=()=>{const V=new Date().getTime()-g.current;N.current=N.current-V,window.clearTimeout(M.current),w==null||w()};return i.addEventListener(se,R),i.addEventListener(oe,b),()=>{i.removeEventListener(se,R),i.removeEventListener(oe,b)}}},[d.viewport,x,w,a,A]),r.useEffect(()=>{u&&!d.isClosePausedRef.current&&A(x)},[u,x,d.isClosePausedRef,A]),r.useEffect(()=>(I(),()=>Z()),[I,Z]);const K=r.useMemo(()=>c?De(c):null,[c]);return d.viewport?l.jsxs(l.Fragment,{children:[K&&l.jsx(mt,{__scopeToast:s,role:"status","aria-live":o==="foreground"?"assertive":"polite","aria-atomic":!0,children:K}),l.jsx(ut,{scope:s,onClose:D,children:Ue.createPortal(l.jsx(ae.ItemSlot,{scope:s,children:l.jsx(ze,{asChild:!0,onEscapeKeyDown:P(T,()=>{d.isFocusedToastEscapeKeyDownRef.current||D(),d.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(O.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":u?"open":"closed","data-swipe-direction":d.swipeDirection,..._,ref:m,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:P(e.onKeyDown,i=>{i.key==="Escape"&&(T==null||T(i.nativeEvent),i.nativeEvent.defaultPrevented||(d.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:P(e.onPointerDown,i=>{i.button===0&&(f.current={x:i.clientX,y:i.clientY})}),onPointerMove:P(e.onPointerMove,i=>{if(!f.current)return;const b=i.clientX-f.current.x,R=i.clientY-f.current.y,V=!!v.current,k=["left","right"].includes(d.swipeDirection),$=["left","up"].includes(d.swipeDirection)?Math.min:Math.max,He=k?$(0,b):0,Be=k?0:$(0,R),G=i.pointerType==="touch"?10:2,H={x:He,y:Be},pe={originalEvent:i,delta:H};V?(v.current=H,B(it,h,pe,{discrete:!1})):me(H,d.swipeDirection,G)?(v.current=H,B(at,C,pe,{discrete:!1}),i.target.setPointerCapture(i.pointerId)):(Math.abs(b)>G||Math.abs(R)>G)&&(f.current=null)}),onPointerUp:P(e.onPointerUp,i=>{const b=v.current,R=i.target;if(R.hasPointerCapture(i.pointerId)&&R.releasePointerCapture(i.pointerId),v.current=null,f.current=null,b){const V=i.currentTarget,k={originalEvent:i,delta:b};me(b,d.swipeDirection,d.swipeThreshold)?B(lt,S,k,{discrete:!0}):B(ct,L,k,{discrete:!0}),V.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),d.viewport)})]}):null}),mt=e=>{const{__scopeToast:t,children:s,...o}=e,n=q(z,t),[u,p]=r.useState(!1),[T,w]=r.useState(!1);return wt(()=>p(!0)),r.useEffect(()=>{const a=window.setTimeout(()=>w(!0),1e3);return()=>window.clearTimeout(a)},[]),T?null:l.jsx(Ze,{asChild:!0,children:l.jsx(xe,{...o,children:u&&l.jsxs(l.Fragment,{children:[n.label," ",s]})})})},ft="ToastTitle",Re=r.forwardRef((e,t)=>{const{__scopeToast:s,...o}=e;return l.jsx(O.div,{...o,ref:t})});Re.displayName=ft;var Tt="ToastDescription",Se=r.forwardRef((e,t)=>{const{__scopeToast:s,...o}=e;return l.jsx(O.div,{...o,ref:t})});Se.displayName=Tt;var _e="ToastAction",Ne=r.forwardRef((e,t)=>{const{altText:s,...o}=e;return s.trim()?l.jsx(Ie,{altText:s,asChild:!0,children:l.jsx(ie,{...o,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${_e}\`. Expected non-empty \`string\`.`),null)});Ne.displayName=_e;var Ae="ToastClose",ie=r.forwardRef((e,t)=>{const{__scopeToast:s,...o}=e,n=dt(Ae,s);return l.jsx(Ie,{asChild:!0,children:l.jsx(O.button,{type:"button",...o,ref:t,onClick:P(e.onClick,n.onClose)})})});ie.displayName=Ae;var Ie=r.forwardRef((e,t)=>{const{__scopeToast:s,altText:o,...n}=e;return l.jsx(O.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0,...n,ref:t})});function De(e){const t=[];return Array.from(e.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&t.push(o.textContent),vt(o)){const n=o.ariaHidden||o.hidden||o.style.display==="none",u=o.dataset.radixToastAnnounceExclude==="";if(!n)if(u){const p=o.dataset.radixToastAnnounceAlt;p&&t.push(p)}else t.push(...De(o))}}),t}function B(e,t,s,{discrete:o}){const n=s.originalEvent.currentTarget,u=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&n.addEventListener(e,t,{once:!0}),o?qe(n,u):n.dispatchEvent(u)}var me=(e,t,s=0)=>{const o=Math.abs(e.x),n=Math.abs(e.y),u=o>n;return t==="left"||t==="right"?u&&o>s:!u&&n>s};function wt(e=()=>{}){const t=Y(e);Je(()=>{let s=0,o=0;return s=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(o)}},[t])}function vt(e){return e.nodeType===e.ELEMENT_NODE}function Et(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const n=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||n?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function J(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var xt=ye,Oe=be,Fe=Pe,Le=Re,Me=Se,Ve=Ne,ke=ie;const ht=xt,ce=r.forwardRef(({className:e,...t},s)=>r.createElement(Oe,{ref:s,className:F("fixed top-0 z-[9999] flex max-h-screen w-full flex-col-reverse gap-1 p-4 sm:right-0 sm:top-7 sm:flex-col md:max-w-[480px]",e),...t}));ce.displayName=Oe.displayName;const yt=et("group pointer-events-auto pl-4 pr-6 py-3 relative flex w-full items-center justify-between overflow-hidden border transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{rounded:{true:"rounded-md",false:""},status:{default:"",error:"",success:"",warning:""},emphasis:{subtle:"border",bold:""}},compoundVariants:[{emphasis:"bold",status:"default",className:"white-close bg-theme-surface-strong text-theme-text-negative"},{emphasis:"subtle",status:"default",class:"bg-primary-25 border-primary-400 text-theme-text-primary"},{emphasis:"bold",status:"error",className:"white-close bg-error-600 text-theme-text-negative"},{emphasis:"subtle",status:"error",className:"bg-error-50 border-error-300 text-error-900"},{emphasis:"bold",status:"success",className:"white-close bg-success-700 text-theme-text-negative"},{emphasis:"subtle",status:"success",className:"bg-success-50 border-success-300 text-success-900"},{emphasis:"bold",status:"warning",className:"bg-warning-400"},{emphasis:"subtle",status:"warning",className:"bg-warning-50 border-warning-300 text-warning-900"}],defaultVariants:{status:"default"}}),Q=r.forwardRef(({className:e,status:t,rounded:s,emphasis:o,...n},u)=>r.createElement(Fe,{ref:u,className:F(yt({status:t,rounded:s,emphasis:o}),e),...n}));Q.displayName=Fe.displayName;const je=r.forwardRef(({className:e,...t},s)=>r.createElement(Ve,{ref:s,className:F("text-sm ring-offset-background hover:bg-secondary focus:ring-ring inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));je.displayName=Ve.displayName;const le=r.forwardRef(({className:e,...t},s)=>r.createElement(ke,{ref:s,className:F("absolute right-2 top-2 rounded-md p-0.5 group-[.white-close]:text-theme-text-negative",e),"toast-close":"",...t},r.createElement("svg",{className:"h-4 w-4 group-[.white-close]:fill-white",viewBox:"0 0 24 24",fill:"black",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.29289 5.29289C5.68342 4.90237 6.31658 4.90237 6.70711 5.29289L12 10.5858L17.2929 5.29289C17.6834 4.90237 18.3166 4.90237 18.7071 5.29289C19.0976 5.68342 19.0976 6.31658 18.7071 6.70711L13.4142 12L18.7071 17.2929C19.0976 17.6834 19.0976 18.3166 18.7071 18.7071C18.3166 19.0976 17.6834 19.0976 17.2929 18.7071L12 13.4142L6.70711 18.7071C6.31658 19.0976 5.68342 19.0976 5.29289 18.7071C4.90237 18.3166 4.90237 17.6834 5.29289 17.2929L10.5858 12L5.29289 6.70711C4.90237 6.31658 4.90237 5.68342 5.29289 5.29289Z"}))));le.displayName=ke.displayName;const ue=r.forwardRef(({className:e,...t},s)=>r.createElement(Le,{ref:s,className:F("text-sm font-semibold",e),...t}));ue.displayName=Le.displayName;const de=r.forwardRef(({className:e,...t},s)=>r.createElement(Me,{ref:s,className:F("text-sm opacity-90",e),...t}));de.displayName=Me.displayName;Q.__docgenInfo={description:"",methods:[]};je.__docgenInfo={description:"",methods:[]};le.__docgenInfo={description:"",methods:[]};de.__docgenInfo={description:"",methods:[]};ue.__docgenInfo={description:"",methods:[]};ce.__docgenInfo={description:"",methods:[]};const gt=2,bt=1e6;let ee=0;function Ct(){return ee=(ee+1)%Number.MAX_VALUE,ee.toString()}const te=new Map,fe=e=>{if(te.has(e))return;const t=setTimeout(()=>{te.delete(e),j({type:"REMOVE_TOAST",toastId:e})},bt);te.set(e,t)},Pt=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,gt)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?fe(s):e.toasts.forEach(o=>{fe(o.id)}),{...e,toasts:e.toasts.map(o=>o.id===s||s===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)}}},W=[];let X={toasts:[]};function j(e){X=Pt(X,e),W.forEach(t=>{t(X)})}function Ke({...e}){const t=Ct(),s=n=>j({type:"UPDATE_TOAST",toast:{...n,id:t}}),o=()=>j({type:"DISMISS_TOAST",toastId:t});return j({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:n=>{n||o()}}}),{id:t,dismiss:o,update:s}}function Rt(){const[e,t]=r.useState(X);return r.useEffect(()=>(W.push(t),()=>{const s=W.indexOf(t);s>-1&&W.splice(s,1)}),[e]),{...e,toast:Ke,dismiss:s=>j({type:"DISMISS_TOAST",toastId:s})}}function $e(){const{toasts:e}=Rt();return E.createElement(ht,null,e.map(function({id:t,title:s,description:o,action:n,icon:u,...p}){return E.createElement(Q,{key:t,...p},E.createElement("div",{className:"flex flex-col gap-3"},E.createElement("div",{className:"flex gap-2"},u&&u,s&&E.createElement(ue,null,s),o&&E.createElement(de,null,o)),n&&E.createElement("div",{className:"ml-auto"},n)),E.createElement(le,null))}),E.createElement(ce,null))}$e.__docgenInfo={description:"",methods:[],displayName:"Toaster"};const Bt={title:"Elements/Toast",component:Q,argTypes:{emphasis:{description:"Emphasis of the toast",control:"select",defaultValue:"subtle",options:["subtle","bold"]},status:{description:"Status of the toast",control:"select",defaultValue:"default",options:["default","error","success","warning"]},rounded:{control:"boolean",defaultValue:!0}},parameters:{layout:"centered"},decorators:[e=>E.createElement("div",{className:"min-w-[800px] flex items-center justify-center min-h-[1000px]"},E.createElement(e,null))],tags:["autodocs"]},U={name:"Toast",argTypes:{emphasis:"subtle",status:"error",rounded:"true"},render:({emphasis:e,status:t,rounded:s})=>E.createElement("div",null,E.createElement(tt,{onClick:()=>{Ke({status:t,emphasis:e,description:"This is a toast message",rounded:s})}},"Add Toast"),E.createElement($e,null))};var Te,we,ve;U.parameters={...U.parameters,docs:{...(Te=U.parameters)==null?void 0:Te.docs,source:{originalSource:`{
  name: "Toast",
  argTypes: {
    // @ts-expect-error for some reason a wrong type is picked up there
    emphasis: "subtle",
    // @ts-expect-error for some reason a wrong type is picked up there
    status: "error",
    // @ts-expect-error for some reason a wrong type is picked up there
    rounded: "true"
  },
  render: ({
    emphasis,
    status,
    rounded
  }) => <div>
            <Button onClick={() => {
      toast({
        status,
        emphasis,
        description: "This is a toast message",
        rounded
      });
    }}>
                Add Toast
            </Button>
            <Toaster />
        </div>
}`,...(ve=(we=U.parameters)==null?void 0:we.docs)==null?void 0:ve.source}}};const Ut=["DefaultVariant"];export{U as DefaultVariant,Ut as __namedExportsOrder,Bt as default};
