import{r as s}from"./index-OjgoNOWw.js";import{r as y}from"./index-mQqIOHEI.js";import{j as u}from"./jsx-runtime-DtaoT6pD.js";var D=globalThis!=null&&globalThis.document?s.useLayoutEffect:()=>{};function m(e){const t=s.useRef(e);return s.useEffect(()=>{t.current=e}),s.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function O({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=E({defaultProp:t,onChange:n}),i=e!==void 0,l=i?e:r,c=m(n),a=s.useCallback(f=>{if(i){const p=typeof f=="function"?f(e):f;p!==e&&c(p)}else o(f)},[i,e,o,c]);return[l,a]}function E({defaultProp:e,onChange:t}){const n=s.useState(e),[r]=n,o=s.useRef(r),i=m(t);return s.useEffect(()=>{o.current!==r&&(i(r),o.current=r)},[r,o,i]),n}function C(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function h(...e){return t=>e.forEach(n=>C(n,t))}function V(...e){return s.useCallback(h(...e),e)}var v=s.forwardRef((e,t)=>{const{children:n,...r}=e,o=s.Children.toArray(n),i=o.find(R);if(i){const l=i.props.children,c=o.map(a=>a===i?s.Children.count(l)>1?s.Children.only(null):s.isValidElement(l)?l.props.children:null:a);return u.jsx(d,{...r,ref:t,children:s.isValidElement(l)?s.cloneElement(l,void 0,c):null})}return u.jsx(d,{...r,ref:t,children:n})});v.displayName="Slot";var d=s.forwardRef((e,t)=>{const{children:n,...r}=e;if(s.isValidElement(n)){const o=b(n);return s.cloneElement(n,{...S(r,n.props),ref:t?h(t,o):o})}return s.Children.count(n)>1?s.Children.only(null):null});d.displayName="SlotClone";var g=({children:e})=>u.jsx(u.Fragment,{children:e});function R(e){return s.isValidElement(e)&&e.type===g}function S(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...c)=>{i(...c),o(...c)}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function b(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var P=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],W=P.reduce((e,t)=>{const n=s.forwardRef((r,o)=>{const{asChild:i,...l}=r,c=i?v:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(c,{...l,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function A(e,t){e&&y.flushSync(()=>e.dispatchEvent(t))}export{W as P,v as S,D as a,V as b,O as c,A as d,m as u};
