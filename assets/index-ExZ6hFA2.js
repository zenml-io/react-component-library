import{$ as A,_ as l,a as p}from"./index-ttJ0zls6.js";import{r as t}from"./index-OjgoNOWw.js";import{$,a as I}from"./index-D3KhmrnL.js";import{$ as M,a as D}from"./index-jKYK_Gmc.js";import{$ as _}from"./index-juKxXFC6.js";import{$ as F}from"./index-f0vHx2GX.js";import{$ as w,h as T,a as y,b as N}from"./index-vwyHrCN8.js";import{$ as k}from"./index-pT7Q2Giz.js";import{$ as x}from"./index-WvU1OYyU.js";const v="Dialog",[R,le]=A(v),[L,i]=R(v),S=e=>{const{__scopeDialog:a,children:n,open:r,defaultOpen:c,onOpenChange:o,modal:s=!0}=e,d=t.useRef(null),f=t.useRef(null),[b=!1,g]=I({prop:r,defaultProp:c,onChange:o});return t.createElement(L,{scope:a,triggerRef:d,contentRef:f,contentId:_(),titleId:_(),descriptionId:_(),open:b,onOpenChange:g,onOpenToggle:t.useCallback(()=>g(h=>!h),[g]),modal:s},n)},G="DialogTrigger",K=t.forwardRef((e,a)=>{const{__scopeDialog:n,...r}=e,c=i(G,n),o=D(a,c.triggerRef);return t.createElement(p.button,l({type:"button","aria-haspopup":"dialog","aria-expanded":c.open,"aria-controls":c.contentId,"data-state":E(c.open)},r,{ref:o,onClick:$(e.onClick,c.onOpenToggle)}))}),C="DialogPortal",[U,O]=R(C,{forceMount:void 0}),V=e=>{const{__scopeDialog:a,forceMount:n,children:r,container:c}=e,o=i(C,a);return t.createElement(U,{scope:a,forceMount:n},t.Children.map(r,s=>t.createElement(x,{present:n||o.open},t.createElement(k,{asChild:!0,container:c},s))))},m="DialogOverlay",Y=t.forwardRef((e,a)=>{const n=O(m,e.__scopeDialog),{forceMount:r=n.forceMount,...c}=e,o=i(m,e.__scopeDialog);return o.modal?t.createElement(x,{present:r||o.open},t.createElement(Z,l({},c,{ref:a}))):null}),Z=t.forwardRef((e,a)=>{const{__scopeDialog:n,...r}=e,c=i(m,n);return t.createElement(w,{as:M,allowPinchZoom:!0,shards:[c.contentRef]},t.createElement(p.div,l({"data-state":E(c.open)},r,{ref:a,style:{pointerEvents:"auto",...r.style}})))}),u="DialogContent",j=t.forwardRef((e,a)=>{const n=O(u,e.__scopeDialog),{forceMount:r=n.forceMount,...c}=e,o=i(u,e.__scopeDialog);return t.createElement(x,{present:r||o.open},o.modal?t.createElement(q,l({},c,{ref:a})):t.createElement(z,l({},c,{ref:a})))}),q=t.forwardRef((e,a)=>{const n=i(u,e.__scopeDialog),r=t.useRef(null),c=D(a,n.contentRef,r);return t.useEffect(()=>{const o=r.current;if(o)return T(o)},[]),t.createElement(P,l({},e,{ref:c,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$(e.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:$(e.onPointerDownOutside,o=>{const s=o.detail.originalEvent,d=s.button===0&&s.ctrlKey===!0;(s.button===2||d)&&o.preventDefault()}),onFocusOutside:$(e.onFocusOutside,o=>o.preventDefault())}))}),z=t.forwardRef((e,a)=>{const n=i(u,e.__scopeDialog),r=t.useRef(!1),c=t.useRef(!1);return t.createElement(P,l({},e,{ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s;if((s=e.onCloseAutoFocus)===null||s===void 0||s.call(e,o),!o.defaultPrevented){var d;r.current||(d=n.triggerRef.current)===null||d===void 0||d.focus(),o.preventDefault()}r.current=!1,c.current=!1},onInteractOutside:o=>{var s,d;(s=e.onInteractOutside)===null||s===void 0||s.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(c.current=!0));const f=o.target;((d=n.triggerRef.current)===null||d===void 0?void 0:d.contains(f))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&c.current&&o.preventDefault()}}))}),P=t.forwardRef((e,a)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:c,onCloseAutoFocus:o,...s}=e,d=i(u,n),f=t.useRef(null),b=D(a,f);return y(),t.createElement(t.Fragment,null,t.createElement(N,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:c,onUnmountAutoFocus:o},t.createElement(F,l({role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":E(d.open)},s,{ref:b,onDismiss:()=>d.onOpenChange(!1)}))),!1)}),B="DialogTitle",H=t.forwardRef((e,a)=>{const{__scopeDialog:n,...r}=e,c=i(B,n);return t.createElement(p.h2,l({id:c.titleId},r,{ref:a}))}),J="DialogDescription",Q=t.forwardRef((e,a)=>{const{__scopeDialog:n,...r}=e,c=i(J,n);return t.createElement(p.p,l({id:c.descriptionId},r,{ref:a}))}),W="DialogClose",X=t.forwardRef((e,a)=>{const{__scopeDialog:n,...r}=e,c=i(W,n);return t.createElement(p.button,l({type:"button"},r,{ref:a,onClick:$(e.onClick,()=>c.onOpenChange(!1))}))});function E(e){return e?"open":"closed"}const ie=S,fe=K,$e=V,ue=Y,pe=j,be=H,ge=Q,_e=X;export{ue as $,pe as a,be as b,ge as c,ie as d,fe as e,$e as f,_e as g};
