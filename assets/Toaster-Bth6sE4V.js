import{r,R as P}from"./iframe-DmX7tmNN.js";import{r as Ve}from"./index-BA3UrDet.js";import{u as ke,c as b}from"./index-DmxPDRKa.js";import{u as me}from"./index-B5sGjzNZ.js";import{c as Ke}from"./index-DTAmaT1b.js";import{c as $e,P as A,d as He}from"./index-CUK_SDBg.js";import{R as Ue,B as We}from"./index-DyC7I4WK.js";import{P as Xe}from"./index-6pxhu0Ho.js";import{P as Ye}from"./index-Du9gg2yb.js";import{u as Y,a as Be}from"./index-CDl4ovXb.js";import{V as Te}from"./index-BJJCtjfj.js";import{j as l}from"./jsx-runtime-CUg_HtQB.js";import{c as qe}from"./index-ok-L0AhG.js";import{c as I}from"./index-DcZlE0k4.js";var se="ToastProvider",[oe,ze,Qe]=Ke("Toast"),[we]=$e("Toast",[Qe]),[Ze,B]=we(se),ve=e=>{const{__scopeToast:t,label:s="Notification",duration:o=5e3,swipeDirection:n="right",swipeThreshold:u=50,children:p}=e,[T,w]=r.useState(null),[c,g]=r.useState(0),E=r.useRef(!1),D=r.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${se}\`. Expected non-empty \`string\`.`),l.jsx(oe.Provider,{scope:t,children:l.jsx(Ze,{scope:t,label:s,duration:o,swipeDirection:n,swipeThreshold:u,toastCount:c,viewport:T,onViewportChange:w,onToastAdd:r.useCallback(()=>g(S=>S+1),[]),onToastRemove:r.useCallback(()=>g(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:E,isClosePausedRef:D,children:p})})};ve.displayName=se;var Ee="ToastViewport",Ge=["F8"],J="toast.viewportPause",ee="toast.viewportResume",xe=r.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:o=Ge,label:n="Notifications ({hotkey})",...u}=e,p=B(Ee,s),T=ze(s),w=r.useRef(null),c=r.useRef(null),g=r.useRef(null),E=r.useRef(null),D=me(t,E,p.onViewportChange),S=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=p.toastCount>0;r.useEffect(()=>{const i=x=>{o.length!==0&&o.every(m=>x[m]||x.code===m)&&E.current?.focus()};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[o]),r.useEffect(()=>{const i=w.current,x=E.current;if(N&&i&&x){const f=()=>{if(!p.isClosePausedRef.current){const v=new CustomEvent(J);x.dispatchEvent(v),p.isClosePausedRef.current=!0}},m=()=>{if(p.isClosePausedRef.current){const v=new CustomEvent(ee);x.dispatchEvent(v),p.isClosePausedRef.current=!1}},y=v=>{!i.contains(v.relatedTarget)&&m()},h=()=>{i.contains(document.activeElement)||m()};return i.addEventListener("focusin",f),i.addEventListener("focusout",y),i.addEventListener("pointermove",f),i.addEventListener("pointerleave",h),window.addEventListener("blur",f),window.addEventListener("focus",m),()=>{i.removeEventListener("focusin",f),i.removeEventListener("focusout",y),i.removeEventListener("pointermove",f),i.removeEventListener("pointerleave",h),window.removeEventListener("blur",f),window.removeEventListener("focus",m)}}},[N,p.isClosePausedRef]);const d=r.useCallback(({tabbingDirection:i})=>{const f=T().map(m=>{const y=m.ref.current,h=[y,...dt(y)];return i==="forwards"?h:h.reverse()});return(i==="forwards"?f.reverse():f).flat()},[T]);return r.useEffect(()=>{const i=E.current;if(i){const x=f=>{const m=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!m){const h=document.activeElement,v=f.shiftKey;if(f.target===i&&v){c.current?.focus();return}const F=d({tabbingDirection:v?"backwards":"forwards"}),k=F.findIndex(_=>_===h);Q(F.slice(k+1))?f.preventDefault():v?c.current?.focus():g.current?.focus()}};return i.addEventListener("keydown",x),()=>i.removeEventListener("keydown",x)}},[T,d]),l.jsxs(We,{ref:w,role:"region","aria-label":n.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:N?void 0:"none"},children:[N&&l.jsx(te,{ref:c,onFocusFromOutsideViewport:()=>{const i=d({tabbingDirection:"forwards"});Q(i)}}),l.jsx(oe.Slot,{scope:s,children:l.jsx(A.ol,{tabIndex:-1,...u,ref:D})}),N&&l.jsx(te,{ref:g,onFocusFromOutsideViewport:()=>{const i=d({tabbingDirection:"backwards"});Q(i)}})]})});xe.displayName=Ee;var ye="ToastFocusProxy",te=r.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:o,...n}=e,u=B(ye,s);return l.jsx(Te,{"aria-hidden":!0,tabIndex:0,...n,ref:t,style:{position:"fixed"},onFocus:p=>{const T=p.relatedTarget;!u.viewport?.contains(T)&&o()}})});te.displayName=ye;var q="Toast",Je="toast.swipeStart",et="toast.swipeMove",tt="toast.swipeCancel",st="toast.swipeEnd",he=r.forwardRef((e,t)=>{const{forceMount:s,open:o,defaultOpen:n,onOpenChange:u,...p}=e,[T=!0,w]=ke({prop:o,defaultProp:n,onChange:u});return l.jsx(Ye,{present:s||T,children:l.jsx(nt,{open:T,...p,ref:t,onClose:()=>w(!1),onPause:Y(e.onPause),onResume:Y(e.onResume),onSwipeStart:b(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:b(e.onSwipeMove,c=>{const{x:g,y:E}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${E}px`)}),onSwipeCancel:b(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:b(e.onSwipeEnd,c=>{const{x:g,y:E}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${E}px`),w(!1)})})})});he.displayName=q;var[ot,rt]=we(q,{onClose(){}}),nt=r.forwardRef((e,t)=>{const{__scopeToast:s,type:o="foreground",duration:n,open:u,onClose:p,onEscapeKeyDown:T,onPause:w,onResume:c,onSwipeStart:g,onSwipeMove:E,onSwipeCancel:D,onSwipeEnd:S,...N}=e,d=B(q,s),[i,x]=r.useState(null),f=me(t,a=>x(a)),m=r.useRef(null),y=r.useRef(null),h=n||d.duration,v=r.useRef(0),O=r.useRef(h),V=r.useRef(0),{onToastAdd:F,onToastRemove:k}=d,_=Y(()=>{i?.contains(document.activeElement)&&d.viewport?.focus(),p()}),K=r.useCallback(a=>{!a||a===1/0||(window.clearTimeout(V.current),v.current=new Date().getTime(),V.current=window.setTimeout(_,a))},[_]);r.useEffect(()=>{const a=d.viewport;if(a){const C=()=>{K(O.current),c?.()},R=()=>{const L=new Date().getTime()-v.current;O.current=O.current-L,window.clearTimeout(V.current),w?.()};return a.addEventListener(J,R),a.addEventListener(ee,C),()=>{a.removeEventListener(J,R),a.removeEventListener(ee,C)}}},[d.viewport,h,w,c,K]),r.useEffect(()=>{u&&!d.isClosePausedRef.current&&K(h)},[u,h,d.isClosePausedRef,K]),r.useEffect(()=>(F(),()=>k()),[F,k]);const ue=r.useMemo(()=>i?Ne(i):null,[i]);return d.viewport?l.jsxs(l.Fragment,{children:[ue&&l.jsx(at,{__scopeToast:s,role:"status","aria-live":o==="foreground"?"assertive":"polite","aria-atomic":!0,children:ue}),l.jsx(ot,{scope:s,onClose:_,children:Ve.createPortal(l.jsx(oe.ItemSlot,{scope:s,children:l.jsx(Ue,{asChild:!0,onEscapeKeyDown:b(T,()=>{d.isFocusedToastEscapeKeyDownRef.current||_(),d.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(A.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":u?"open":"closed","data-swipe-direction":d.swipeDirection,...N,ref:f,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:b(e.onKeyDown,a=>{a.key==="Escape"&&(T?.(a.nativeEvent),a.nativeEvent.defaultPrevented||(d.isFocusedToastEscapeKeyDownRef.current=!0,_()))}),onPointerDown:b(e.onPointerDown,a=>{a.button===0&&(m.current={x:a.clientX,y:a.clientY})}),onPointerMove:b(e.onPointerMove,a=>{if(!m.current)return;const C=a.clientX-m.current.x,R=a.clientY-m.current.y,L=!!y.current,M=["left","right"].includes(d.swipeDirection),$=["left","up"].includes(d.swipeDirection)?Math.min:Math.max,Me=M?$(0,C):0,je=M?0:$(0,R),z=a.pointerType==="touch"?10:2,H={x:Me,y:je},de={originalEvent:a,delta:H};L?(y.current=H,U(et,E,de,{discrete:!1})):pe(H,d.swipeDirection,z)?(y.current=H,U(Je,g,de,{discrete:!1}),a.target.setPointerCapture(a.pointerId)):(Math.abs(C)>z||Math.abs(R)>z)&&(m.current=null)}),onPointerUp:b(e.onPointerUp,a=>{const C=y.current,R=a.target;if(R.hasPointerCapture(a.pointerId)&&R.releasePointerCapture(a.pointerId),y.current=null,m.current=null,C){const L=a.currentTarget,M={originalEvent:a,delta:C};pe(C,d.swipeDirection,d.swipeThreshold)?U(st,S,M,{discrete:!0}):U(tt,D,M,{discrete:!0}),L.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),d.viewport)})]}):null}),at=e=>{const{__scopeToast:t,children:s,...o}=e,n=B(q,t),[u,p]=r.useState(!1),[T,w]=r.useState(!1);return lt(()=>p(!0)),r.useEffect(()=>{const c=window.setTimeout(()=>w(!0),1e3);return()=>window.clearTimeout(c)},[]),T?null:l.jsx(Xe,{asChild:!0,children:l.jsx(Te,{...o,children:u&&l.jsxs(l.Fragment,{children:[n.label," ",s]})})})},it="ToastTitle",ge=r.forwardRef((e,t)=>{const{__scopeToast:s,...o}=e;return l.jsx(A.div,{...o,ref:t})});ge.displayName=it;var ct="ToastDescription",be=r.forwardRef((e,t)=>{const{__scopeToast:s,...o}=e;return l.jsx(A.div,{...o,ref:t})});be.displayName=ct;var Ce="ToastAction",Pe=r.forwardRef((e,t)=>{const{altText:s,...o}=e;return s.trim()?l.jsx(Se,{altText:s,asChild:!0,children:l.jsx(re,{...o,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Ce}\`. Expected non-empty \`string\`.`),null)});Pe.displayName=Ce;var Re="ToastClose",re=r.forwardRef((e,t)=>{const{__scopeToast:s,...o}=e,n=rt(Re,s);return l.jsx(Se,{asChild:!0,children:l.jsx(A.button,{type:"button",...o,ref:t,onClick:b(e.onClick,n.onClose)})})});re.displayName=Re;var Se=r.forwardRef((e,t)=>{const{__scopeToast:s,altText:o,...n}=e;return l.jsx(A.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0,...n,ref:t})});function Ne(e){const t=[];return Array.from(e.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&t.push(o.textContent),ut(o)){const n=o.ariaHidden||o.hidden||o.style.display==="none",u=o.dataset.radixToastAnnounceExclude==="";if(!n)if(u){const p=o.dataset.radixToastAnnounceAlt;p&&t.push(p)}else t.push(...Ne(o))}}),t}function U(e,t,s,{discrete:o}){const n=s.originalEvent.currentTarget,u=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&n.addEventListener(e,t,{once:!0}),o?He(n,u):n.dispatchEvent(u)}var pe=(e,t,s=0)=>{const o=Math.abs(e.x),n=Math.abs(e.y),u=o>n;return t==="left"||t==="right"?u&&o>s:!u&&n>s};function lt(e=()=>{}){const t=Y(e);Be(()=>{let s=0,o=0;return s=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(o)}},[t])}function ut(e){return e.nodeType===e.ELEMENT_NODE}function dt(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const n=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||n?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function Q(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var pt=ve,_e=xe,Ae=he,Ie=ge,De=be,Oe=Pe,Fe=re;const ft=pt,ne=r.forwardRef(({className:e,...t},s)=>r.createElement(_e,{ref:s,className:I("fixed top-0 z-[9999] flex max-h-screen w-full flex-col-reverse gap-1 p-4 sm:right-0 sm:top-7 sm:flex-col md:max-w-[480px]",e),...t}));ne.displayName=_e.displayName;const mt=qe("group pointer-events-auto pl-4 pr-6 py-3 relative flex w-full items-center justify-between overflow-hidden border transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{rounded:{true:"rounded-md",false:""},status:{default:"",error:"",success:"",warning:""},emphasis:{subtle:"border",bold:""}},compoundVariants:[{emphasis:"bold",status:"default",className:"white-close bg-theme-surface-strong text-theme-text-negative"},{emphasis:"subtle",status:"default",class:"bg-primary-25 border-primary-400 text-theme-text-primary"},{emphasis:"bold",status:"error",className:"white-close bg-error-600 text-theme-text-negative"},{emphasis:"subtle",status:"error",className:"bg-error-50 border-error-300 text-error-900"},{emphasis:"bold",status:"success",className:"white-close bg-success-700 text-theme-text-negative"},{emphasis:"subtle",status:"success",className:"bg-success-50 border-success-300 text-success-900"},{emphasis:"bold",status:"warning",className:"bg-warning-400"},{emphasis:"subtle",status:"warning",className:"bg-warning-50 border-warning-300 text-warning-900"}],defaultVariants:{status:"default"}}),ae=r.forwardRef(({className:e,status:t,rounded:s,emphasis:o,...n},u)=>r.createElement(Ae,{ref:u,className:I(mt({status:t,rounded:s,emphasis:o}),e),...n}));ae.displayName=Ae.displayName;const Le=r.forwardRef(({className:e,...t},s)=>r.createElement(Oe,{ref:s,className:I("text-sm ring-offset-background hover:bg-secondary focus:ring-ring inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Le.displayName=Oe.displayName;const ie=r.forwardRef(({className:e,...t},s)=>r.createElement(Fe,{ref:s,className:I("absolute right-2 top-2 rounded-md p-0.5 group-[.white-close]:text-theme-text-negative",e),"toast-close":"",...t},r.createElement("svg",{className:"h-4 w-4 group-[.white-close]:fill-white",viewBox:"0 0 24 24",fill:"black",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.29289 5.29289C5.68342 4.90237 6.31658 4.90237 6.70711 5.29289L12 10.5858L17.2929 5.29289C17.6834 4.90237 18.3166 4.90237 18.7071 5.29289C19.0976 5.68342 19.0976 6.31658 18.7071 6.70711L13.4142 12L18.7071 17.2929C19.0976 17.6834 19.0976 18.3166 18.7071 18.7071C18.3166 19.0976 17.6834 19.0976 17.2929 18.7071L12 13.4142L6.70711 18.7071C6.31658 19.0976 5.68342 19.0976 5.29289 18.7071C4.90237 18.3166 4.90237 17.6834 5.29289 17.2929L10.5858 12L5.29289 6.70711C4.90237 6.31658 4.90237 5.68342 5.29289 5.29289Z"}))));ie.displayName=Fe.displayName;const ce=r.forwardRef(({className:e,...t},s)=>r.createElement(Ie,{ref:s,className:I("text-sm font-semibold",e),...t}));ce.displayName=Ie.displayName;const le=r.forwardRef(({className:e,...t},s)=>r.createElement(De,{ref:s,className:I("text-sm opacity-90",e),...t}));le.displayName=De.displayName;ae.__docgenInfo={description:"",methods:[]};Le.__docgenInfo={description:"",methods:[]};ie.__docgenInfo={description:"",methods:[]};le.__docgenInfo={description:"",methods:[]};ce.__docgenInfo={description:"",methods:[]};ne.__docgenInfo={description:"",methods:[]};const Tt=2,wt=1e6;let Z=0;function vt(){return Z=(Z+1)%Number.MAX_VALUE,Z.toString()}const G=new Map,fe=e=>{if(G.has(e))return;const t=setTimeout(()=>{G.delete(e),j({type:"REMOVE_TOAST",toastId:e})},wt);G.set(e,t)},Et=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Tt)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?fe(s):e.toasts.forEach(o=>{fe(o.id)}),{...e,toasts:e.toasts.map(o=>o.id===s||s===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)}}},W=[];let X={toasts:[]};function j(e){X=Et(X,e),W.forEach(t=>{t(X)})}function xt({...e}){const t=vt(),s=n=>j({type:"UPDATE_TOAST",toast:{...n,id:t}}),o=()=>j({type:"DISMISS_TOAST",toastId:t});return j({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:n=>{n||o()}}}),{id:t,dismiss:o,update:s}}function yt(){const[e,t]=r.useState(X);return r.useEffect(()=>(W.push(t),()=>{const s=W.indexOf(t);s>-1&&W.splice(s,1)}),[e]),{...e,toast:xt,dismiss:s=>j({type:"DISMISS_TOAST",toastId:s})}}function ht(){const{toasts:e}=yt();return P.createElement(ft,null,e.map(function({id:t,title:s,description:o,action:n,icon:u,...p}){return P.createElement(ae,{key:t,...p},P.createElement("div",{className:"flex flex-col gap-3"},P.createElement("div",{className:"flex gap-2"},u&&u,s&&P.createElement(ce,null,s),o&&P.createElement(le,null,o)),n&&P.createElement("div",{className:"ml-auto"},n)),P.createElement(ie,null))}),P.createElement(ne,null))}ht.__docgenInfo={description:"",methods:[],displayName:"Toaster"};export{ae as T,ht as a,xt as t};
