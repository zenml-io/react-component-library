import{R as Pe,P as Le,O as Ve,a as Fe}from"./index-C9RW4Rdq.js";import{h as Ke,r as a}from"./iframe-DmX7tmNN.js";import{P as N}from"./index-CUK_SDBg.js";import{u as P}from"./index-BrRc4MDt.js";import{c as L}from"./index-DcZlE0k4.js";import"./Dialog-CVgvFDYT.js";var ve=1,je=.9,Oe=.8,Ue=.17,Y=.1,Q=.999,Ge=.9999,ze=.99,He=/[\\\/_+.#"@\[\(\{&]/,Be=/[\\\/_+.#"@\[\(\{&]/g,Te=/[\s-]/,Ee=/[\s-]/g;function re(e,n,t,f,o,i,s){if(i===n.length)return o===e.length?ve:ze;var v=`${o},${i}`;if(s[v]!==void 0)return s[v];for(var h=f.charAt(i),m=t.indexOf(h,o),d=0,u,g,E,k;m>=0;)u=re(e,n,t,f,m+1,i+1,s),u>d&&(m===o?u*=ve:He.test(e.charAt(m-1))?(u*=Oe,E=e.slice(o,m-1).match(Be),E&&o>0&&(u*=Math.pow(Q,E.length))):Te.test(e.charAt(m-1))?(u*=je,k=e.slice(o,m-1).match(Ee),k&&o>0&&(u*=Math.pow(Q,k.length))):(u*=Ue,o>0&&(u*=Math.pow(Q,m-o))),e.charAt(m)!==n.charAt(i)&&(u*=Ge)),(u<Y&&t.charAt(m-1)===f.charAt(i+1)||f.charAt(i+1)===f.charAt(i)&&t.charAt(m-1)!==f.charAt(i))&&(g=re(e,n,t,f,m+1,i+2,s),g*Y>u&&(u=g*Y)),u>d&&(d=u),m=t.indexOf(h,m+1);return s[v]=d,d}function he(e){return e.toLowerCase().replace(Ee," ")}function We(e,n,t){return e=t&&t.length>0?`${e+" "+t.join(" ")}`:e,re(e,n,he(e),he(n),0,0,{})}var Z={exports:{}},ee={};var ge;function Je(){if(ge)return ee;ge=1;var e=Ke();function n(u,g){return u===g&&(u!==0||1/u===1/g)||u!==u&&g!==g}var t=typeof Object.is=="function"?Object.is:n,f=e.useState,o=e.useEffect,i=e.useLayoutEffect,s=e.useDebugValue;function v(u,g){var E=g(),k=f({inst:{value:E,getSnapshot:g}}),C=k[0].inst,R=k[1];return i(function(){C.value=E,C.getSnapshot=g,h(C)&&R({inst:C})},[u,E,g]),o(function(){return h(C)&&R({inst:C}),u(function(){h(C)&&R({inst:C})})},[u]),s(E),E}function h(u){var g=u.getSnapshot;u=u.value;try{var E=g();return!t(u,E)}catch{return!0}}function m(u,g){return g()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:v;return ee.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,ee}var ye;function Xe(){return ye||(ye=1,Z.exports=Je()),Z.exports}var Ye=Xe(),K='[cmdk-group=""]',te='[cmdk-group-items=""]',Qe='[cmdk-group-heading=""]',ae='[cmdk-item=""]',be=`${ae}:not([aria-disabled="true"])`,ne="cmdk-item-select",A="data-value",Ze=(e,n,t)=>We(e,n,t),Se=a.createContext(void 0),O=()=>a.useContext(Se),we=a.createContext(void 0),le=()=>a.useContext(we),xe=a.createContext(void 0),ke=a.forwardRef((e,n)=>{let t=q(()=>{var r,c;return{search:"",value:(c=(r=e.value)!=null?r:e.defaultValue)!=null?c:"",filtered:{count:0,items:new Map,groups:new Set}}}),f=q(()=>new Set),o=q(()=>new Map),i=q(()=>new Map),s=q(()=>new Set),v=Ce(e),{label:h,children:m,value:d,onValueChange:u,filter:g,shouldFilter:E,loop:k,disablePointerSelection:C=!1,vimBindings:R=!0,...U}=e,oe=P(),ue=P(),ie=P(),$=a.useRef(null),S=dt();M(()=>{if(d!==void 0){let r=d.trim();t.current.value=r,x.emit()}},[d]),M(()=>{S(6,de)},[]);let x=a.useMemo(()=>({subscribe:r=>(s.current.add(r),()=>s.current.delete(r)),snapshot:()=>t.current,setState:(r,c,p)=>{var l,y,b;if(!Object.is(t.current[r],c)){if(t.current[r]=c,r==="search")W(),B(),S(1,T);else if(r==="value"&&(p||S(5,de),((l=v.current)==null?void 0:l.value)!==void 0)){let I=c??"";(b=(y=v.current).onValueChange)==null||b.call(y,I);return}x.emit()}},emit:()=>{s.current.forEach(r=>r())}}),[]),H=a.useMemo(()=>({value:(r,c,p)=>{var l;c!==((l=i.current.get(r))==null?void 0:l.value)&&(i.current.set(r,{value:c,keywords:p}),t.current.filtered.items.set(r,ce(c,p)),S(2,()=>{B(),x.emit()}))},item:(r,c)=>(f.current.add(r),c&&(o.current.has(c)?o.current.get(c).add(r):o.current.set(c,new Set([r]))),S(3,()=>{W(),B(),t.current.value||T(),x.emit()}),()=>{i.current.delete(r),f.current.delete(r),t.current.filtered.items.delete(r);let p=V();S(4,()=>{W(),p?.getAttribute("id")===r&&T(),x.emit()})}),group:r=>(o.current.has(r)||o.current.set(r,new Set),()=>{i.current.delete(r),o.current.delete(r)}),filter:()=>v.current.shouldFilter,label:h||e["aria-label"],getDisablePointerSelection:()=>v.current.disablePointerSelection,listId:oe,inputId:ie,labelId:ue,listInnerRef:$}),[]);function ce(r,c){var p,l;let y=(l=(p=v.current)==null?void 0:p.filter)!=null?l:Ze;return r?y(r,t.current.search,c):0}function B(){if(!t.current.search||v.current.shouldFilter===!1)return;let r=t.current.filtered.items,c=[];t.current.filtered.groups.forEach(l=>{let y=o.current.get(l),b=0;y.forEach(I=>{let _=r.get(I);b=Math.max(_,b)}),c.push([l,b])});let p=$.current;F().sort((l,y)=>{var b,I;let _=l.getAttribute("id"),G=y.getAttribute("id");return((b=r.get(G))!=null?b:0)-((I=r.get(_))!=null?I:0)}).forEach(l=>{let y=l.closest(te);y?y.appendChild(l.parentElement===y?l:l.closest(`${te} > *`)):p.appendChild(l.parentElement===p?l:l.closest(`${te} > *`))}),c.sort((l,y)=>y[1]-l[1]).forEach(l=>{var y;let b=(y=$.current)==null?void 0:y.querySelector(`${K}[${A}="${encodeURIComponent(l[0])}"]`);b?.parentElement.appendChild(b)})}function T(){let r=F().find(p=>p.getAttribute("aria-disabled")!=="true"),c=r?.getAttribute(A);x.setState("value",c||void 0)}function W(){var r,c,p,l;if(!t.current.search||v.current.shouldFilter===!1){t.current.filtered.count=f.current.size;return}t.current.filtered.groups=new Set;let y=0;for(let b of f.current){let I=(c=(r=i.current.get(b))==null?void 0:r.value)!=null?c:"",_=(l=(p=i.current.get(b))==null?void 0:p.keywords)!=null?l:[],G=ce(I,_);t.current.filtered.items.set(b,G),G>0&&y++}for(let[b,I]of o.current)for(let _ of I)if(t.current.filtered.items.get(_)>0){t.current.filtered.groups.add(b);break}t.current.filtered.count=y}function de(){var r,c,p;let l=V();l&&(((r=l.parentElement)==null?void 0:r.firstChild)===l&&((p=(c=l.closest(K))==null?void 0:c.querySelector(Qe))==null||p.scrollIntoView({block:"nearest"})),l.scrollIntoView({block:"nearest"}))}function V(){var r;return(r=$.current)==null?void 0:r.querySelector(`${ae}[aria-selected="true"]`)}function F(){var r;return Array.from(((r=$.current)==null?void 0:r.querySelectorAll(be))||[])}function J(r){let c=F()[r];c&&x.setState("value",c.getAttribute(A))}function X(r){var c;let p=V(),l=F(),y=l.findIndex(I=>I===p),b=l[y+r];(c=v.current)!=null&&c.loop&&(b=y+r<0?l[l.length-1]:y+r===l.length?l[0]:l[y+r]),b&&x.setState("value",b.getAttribute(A))}function se(r){let c=V(),p=c?.closest(K),l;for(;p&&!l;)p=r>0?it(p,K):ct(p,K),l=p?.querySelector(be);l?x.setState("value",l.getAttribute(A)):X(r)}let fe=()=>J(F().length-1),me=r=>{r.preventDefault(),r.metaKey?fe():r.altKey?se(1):X(1)},pe=r=>{r.preventDefault(),r.metaKey?J(0):r.altKey?se(-1):X(-1)};return a.createElement(N.div,{ref:n,tabIndex:-1,...U,"cmdk-root":"",onKeyDown:r=>{var c;if((c=U.onKeyDown)==null||c.call(U,r),!r.defaultPrevented)switch(r.key){case"n":case"j":{R&&r.ctrlKey&&me(r);break}case"ArrowDown":{me(r);break}case"p":case"k":{R&&r.ctrlKey&&pe(r);break}case"ArrowUp":{pe(r);break}case"Home":{r.preventDefault(),J(0);break}case"End":{r.preventDefault(),fe();break}case"Enter":if(!r.nativeEvent.isComposing&&r.keyCode!==229){r.preventDefault();let p=V();if(p){let l=new Event(ne);p.dispatchEvent(l)}}}}},a.createElement("label",{"cmdk-label":"",htmlFor:H.inputId,id:H.labelId,style:ft},h),z(e,r=>a.createElement(we.Provider,{value:x},a.createElement(Se.Provider,{value:H},r))))}),et=a.forwardRef((e,n)=>{var t,f;let o=P(),i=a.useRef(null),s=a.useContext(xe),v=O(),h=Ce(e),m=(f=(t=h.current)==null?void 0:t.forceMount)!=null?f:s?.forceMount;M(()=>{if(!m)return v.item(o,s?.id)},[m]);let d=Ie(o,i,[e.value,e.children,i],e.keywords),u=le(),g=D(S=>S.value&&S.value===d.current),E=D(S=>m||v.filter()===!1?!0:S.search?S.filtered.items.get(o)>0:!0);a.useEffect(()=>{let S=i.current;if(!(!S||e.disabled))return S.addEventListener(ne,k),()=>S.removeEventListener(ne,k)},[E,e.onSelect,e.disabled]);function k(){var S,x;C(),(x=(S=h.current).onSelect)==null||x.call(S,d.current)}function C(){u.setState("value",d.current,!0)}if(!E)return null;let{disabled:R,value:U,onSelect:oe,forceMount:ue,keywords:ie,...$}=e;return a.createElement(N.div,{ref:j([i,n]),...$,id:o,"cmdk-item":"",role:"option","aria-disabled":!!R,"aria-selected":!!g,"data-disabled":!!R,"data-selected":!!g,onPointerMove:R||v.getDisablePointerSelection()?void 0:C,onClick:R?void 0:k},e.children)}),tt=a.forwardRef((e,n)=>{let{heading:t,children:f,forceMount:o,...i}=e,s=P(),v=a.useRef(null),h=a.useRef(null),m=P(),d=O(),u=D(E=>o||d.filter()===!1?!0:E.search?E.filtered.groups.has(s):!0);M(()=>d.group(s),[]),Ie(s,v,[e.value,e.heading,h]);let g=a.useMemo(()=>({id:s,forceMount:o}),[o]);return a.createElement(N.div,{ref:j([v,n]),...i,"cmdk-group":"",role:"presentation",hidden:u?void 0:!0},t&&a.createElement("div",{ref:h,"cmdk-group-heading":"","aria-hidden":!0,id:m},t),z(e,E=>a.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?m:void 0},a.createElement(xe.Provider,{value:g},E))))}),rt=a.forwardRef((e,n)=>{let{alwaysRender:t,...f}=e,o=a.useRef(null),i=D(s=>!s.search);return!t&&!i?null:a.createElement(N.div,{ref:j([o,n]),...f,"cmdk-separator":"",role:"separator"})}),nt=a.forwardRef((e,n)=>{let{onValueChange:t,...f}=e,o=e.value!=null,i=le(),s=D(d=>d.search),v=D(d=>d.value),h=O(),m=a.useMemo(()=>{var d;let u=(d=h.listInnerRef.current)==null?void 0:d.querySelector(`${ae}[${A}="${encodeURIComponent(v)}"]`);return u?.getAttribute("id")},[]);return a.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),a.createElement(N.input,{ref:n,...f,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":h.listId,"aria-labelledby":h.labelId,"aria-activedescendant":m,id:h.inputId,type:"text",value:o?e.value:s,onChange:d=>{o||i.setState("search",d.target.value),t?.(d.target.value)}})}),at=a.forwardRef((e,n)=>{let{children:t,label:f="Suggestions",...o}=e,i=a.useRef(null),s=a.useRef(null),v=O();return a.useEffect(()=>{if(s.current&&i.current){let h=s.current,m=i.current,d,u=new ResizeObserver(()=>{d=requestAnimationFrame(()=>{let g=h.offsetHeight;m.style.setProperty("--cmdk-list-height",g.toFixed(1)+"px")})});return u.observe(h),()=>{cancelAnimationFrame(d),u.unobserve(h)}}},[]),a.createElement(N.div,{ref:j([i,n]),...o,"cmdk-list":"",role:"listbox","aria-label":f,id:v.listId},z(e,h=>a.createElement("div",{ref:j([s,v.listInnerRef]),"cmdk-list-sizer":""},h)))}),lt=a.forwardRef((e,n)=>{let{open:t,onOpenChange:f,overlayClassName:o,contentClassName:i,container:s,...v}=e;return a.createElement(Pe,{open:t,onOpenChange:f},a.createElement(Le,{container:s},a.createElement(Ve,{"cmdk-overlay":"",className:o}),a.createElement(Fe,{"aria-label":e.label,"cmdk-dialog":"",className:i},a.createElement(ke,{ref:n,...v}))))}),ot=a.forwardRef((e,n)=>D(t=>t.filtered.count===0)?a.createElement(N.div,{ref:n,...e,"cmdk-empty":"",role:"presentation"}):null),ut=a.forwardRef((e,n)=>{let{progress:t,children:f,label:o="Loading...",...i}=e;return a.createElement(N.div,{ref:n,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},z(e,s=>a.createElement("div",{"aria-hidden":!0},s)))}),w=Object.assign(ke,{List:at,Item:et,Input:nt,Group:tt,Separator:rt,Dialog:lt,Empty:ot,Loading:ut});function it(e,n){let t=e.nextElementSibling;for(;t;){if(t.matches(n))return t;t=t.nextElementSibling}}function ct(e,n){let t=e.previousElementSibling;for(;t;){if(t.matches(n))return t;t=t.previousElementSibling}}function Ce(e){let n=a.useRef(e);return M(()=>{n.current=e}),n}var M=typeof window>"u"?a.useEffect:a.useLayoutEffect;function q(e){let n=a.useRef();return n.current===void 0&&(n.current=e()),n}function j(e){return n=>{e.forEach(t=>{typeof t=="function"?t(n):t!=null&&(t.current=n)})}}function D(e){let n=le(),t=()=>e(n.snapshot());return Ye.useSyncExternalStore(n.subscribe,t,t)}function Ie(e,n,t,f=[]){let o=a.useRef(),i=O();return M(()=>{var s;let v=(()=>{var m;for(let d of t){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(m=d.current.textContent)==null?void 0:m.trim():o.current}})(),h=f.map(m=>m.trim());i.value(e,v,h),(s=n.current)==null||s.setAttribute(A,v),o.current=v}),o}var dt=()=>{let[e,n]=a.useState(),t=q(()=>new Map);return M(()=>{t.current.forEach(f=>f()),t.current=new Map},[e]),(f,o)=>{t.current.set(f,o),n({})}};function st(e){let n=e.type;return typeof n=="function"?n(e.props):"render"in n?n.render(e.props):e}function z({asChild:e,children:n},t){return e&&a.isValidElement(n)?a.cloneElement(st(n),{ref:n.ref},t(n.props.children)):t(n)}var ft={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Re=a.forwardRef(({className:e,...n},t)=>a.createElement(w,{ref:t,className:L("bg-theme-surface-primary text-theme-text-primary flex h-full w-full flex-col overflow-hidden rounded-md",e),...n}));Re.displayName=w.displayName;const Ne=a.forwardRef(({...e},n)=>a.createElement("div",{className:"flex items-center p-2 [&>div]:w-full","cmdk-input-wrapper":""},a.createElement(w.Input,{asChild:!0,ref:n,...e})));Ne.displayName=w.Input.displayName;const $e=a.forwardRef(({className:e,...n},t)=>a.createElement(w.List,{ref:t,className:L("overflow-y-auto overflow-x-hidden",e),...n}));$e.displayName=w.List.displayName;const _e=a.forwardRef((e,n)=>a.createElement(w.Empty,{ref:n,className:"py-2 text-center text-text-sm text-theme-text-secondary",...e}));_e.displayName=w.Empty.displayName;const Ae=a.forwardRef(({className:e,...n},t)=>a.createElement(w.Group,{ref:t,className:L("text-theme-text-primary [&_[cmdk-group-heading]]:py-2 [&_[cmdk-group-heading]]:text-text-sm [&_[cmdk-group-heading]]:text-theme-text-secondary overflow-hidden [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-semibold",e),...n}));Ae.displayName=w.Group.displayName;const Me=a.forwardRef(({className:e,...n},t)=>a.createElement(w.Separator,{ref:t,className:L("-mx-1 h-[1px] bg-theme-border-moderate",e),...n}));Me.displayName=w.Separator.displayName;const De=a.forwardRef(({className:e,...n},t)=>a.createElement(w.Item,{ref:t,className:L("text-text-sm relative flex cursor-default select-none items-center gap-2 rounded-sm py-2 pl-2 pr-3 outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-primary-25 data-[selected=true]:text-theme-text-brand data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...n}));De.displayName=w.Item.displayName;const qe=({className:e,...n})=>a.createElement("span",{className:L("text-text- text-muted-foreground ml-auto tracking-widest",e),...n});qe.displayName="CommandShortcut";Re.__docgenInfo={description:"",methods:[]};_e.__docgenInfo={description:"",methods:[]};Ae.__docgenInfo={description:"",methods:[]};Ne.__docgenInfo={description:"",methods:[]};De.__docgenInfo={description:"",methods:[]};$e.__docgenInfo={description:"",methods:[]};Me.__docgenInfo={description:"",methods:[]};qe.__docgenInfo={description:"",methods:[],displayName:"CommandShortcut"};export{Re as C,Ne as a,$e as b,_e as c,Ae as d,De as e,Me as f,qe as g};
