import{r as o}from"./index-yUhCOHB4.js";import{u as L,c as d}from"./index-D4ukzbp3.js";import{c as k,P as F}from"./index-DQXGlRzm.js";import{u as M}from"./index-CLdCKqIz.js";import{c as T,R as I,A as U,C as W,a as $}from"./index-BUbqCghI.js";import{P as z}from"./index-Bt0LB2xV.js";import{D as B}from"./index-DLnfOhia.js";import{j as l}from"./jsx-runtime-DBhXMc9n.js";import{c as V}from"./index-DcuGh8cT.js";var b,w="HoverCard",[H,le]=k(w,[T]),S=T(),[q,E]=H(w),O=e=>{const{__scopeHoverCard:r,children:n,open:s,defaultOpen:a,onOpenChange:c,openDelay:f=700,closeDelay:v=300}=e,i=S(r),m=o.useRef(0),u=o.useRef(0),C=o.useRef(!1),p=o.useRef(!1),[h=!1,t]=L({prop:s,defaultProp:a,onChange:c}),P=o.useCallback(()=>{clearTimeout(u.current),m.current=window.setTimeout(()=>t(!0),f)},[f,t]),x=o.useCallback(()=>{clearTimeout(m.current),!C.current&&!p.current&&(u.current=window.setTimeout(()=>t(!1),v))},[v,t]),j=o.useCallback(()=>t(!1),[t]);return o.useEffect(()=>()=>{clearTimeout(m.current),clearTimeout(u.current)},[]),l.jsx(q,{scope:r,open:h,onOpenChange:t,onOpen:P,onClose:x,onDismiss:j,hasSelectionRef:C,isPointerDownOnContentRef:p,children:l.jsx(I,{...i,children:n})})};O.displayName=w;var y="HoverCardTrigger",N=o.forwardRef((e,r)=>{const{__scopeHoverCard:n,...s}=e,a=E(y,n),c=S(n);return l.jsx(U,{asChild:!0,...c,children:l.jsx(F.a,{"data-state":a.open?"open":"closed",...s,ref:r,onPointerEnter:d(e.onPointerEnter,g(a.onOpen)),onPointerLeave:d(e.onPointerLeave,g(a.onClose)),onFocus:d(e.onFocus,a.onOpen),onBlur:d(e.onBlur,a.onClose),onTouchStart:d(e.onTouchStart,f=>f.preventDefault())})})});N.displayName=y;var G="HoverCardPortal",[ue,K]=H(G,{forceMount:void 0}),R="HoverCardContent",_=o.forwardRef((e,r)=>{const n=K(R,e.__scopeHoverCard),{forceMount:s=n.forceMount,...a}=e,c=E(R,e.__scopeHoverCard);return l.jsx(z,{present:s||c.open,children:l.jsx(J,{"data-state":c.open?"open":"closed",...a,onPointerEnter:d(e.onPointerEnter,g(c.onOpen)),onPointerLeave:d(e.onPointerLeave,g(c.onClose)),ref:r})})});_.displayName=R;var J=o.forwardRef((e,r)=>{const{__scopeHoverCard:n,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:c,onInteractOutside:f,...v}=e,i=E(R,n),m=S(n),u=o.useRef(null),C=M(r,u),[p,h]=o.useState(!1);return o.useEffect(()=>{if(p){const t=document.body;return b=t.style.userSelect||t.style.webkitUserSelect,t.style.userSelect="none",t.style.webkitUserSelect="none",()=>{t.style.userSelect=b,t.style.webkitUserSelect=b}}},[p]),o.useEffect(()=>{if(u.current){const t=()=>{h(!1),i.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var x;((x=document.getSelection())==null?void 0:x.toString())!==""&&(i.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",t),()=>{document.removeEventListener("pointerup",t),i.hasSelectionRef.current=!1,i.isPointerDownOnContentRef.current=!1}}},[i.isPointerDownOnContentRef,i.hasSelectionRef]),o.useEffect(()=>{u.current&&Y(u.current).forEach(P=>P.setAttribute("tabindex","-1"))}),l.jsx(B,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:f,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:d(c,t=>{t.preventDefault()}),onDismiss:i.onDismiss,children:l.jsx(W,{...m,...v,onPointerDown:d(v.onPointerDown,t=>{t.currentTarget.contains(t.target)&&h(!0),i.hasSelectionRef.current=!1,i.isPointerDownOnContentRef.current=!0}),ref:C,style:{...v.style,userSelect:p?"text":void 0,WebkitUserSelect:p?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),Q="HoverCardArrow",X=o.forwardRef((e,r)=>{const{__scopeHoverCard:n,...s}=e,a=S(n);return l.jsx($,{...a,...s,ref:r})});X.displayName=Q;function g(e){return r=>r.pointerType==="touch"?void 0:e()}function Y(e){const r=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)r.push(n.currentNode);return r}var Z=O,ee=N,D=_;const pe=Z,fe=ee,A=o.forwardRef(({className:e,align:r="center",sideOffset:n=4,...s},a)=>o.createElement(D,{ref:a,align:r,sideOffset:n,className:V("z-50 w-[16rem] rounded-md border bg-theme-surface-primary p-3 outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s}));A.displayName=D.displayName;A.__docgenInfo={description:"",methods:[],props:{align:{defaultValue:{value:'"center"',computed:!1},required:!1},sideOffset:{defaultValue:{value:"4",computed:!1},required:!1}}};export{pe as H,fe as a,A as b};
